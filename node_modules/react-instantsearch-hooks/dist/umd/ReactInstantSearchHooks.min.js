/*! React InstantSearchHooks UNRELEASED | Â© Algolia, inc. | https://github.com/algolia/instantsearch.js */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactInstantSearchHooks={},e.React)}(this,function(e,y){"use strict";var s="default"in y?y.default:y,H="6.38.1";function C(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function W(e,t){var r,n;if(e!==t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&"__proto__"!==i&&"constructor"!==i&&(r=t[i],void 0!==(n=e[i])&&void 0===r||(C(n)&&C(r)?e[i]=W(n,r):e[i]="object"==typeof(n=r)&&null!==n?W(Array.isArray(n)?[]:{},n):n));return e}function L(){return Array.prototype.slice.call(arguments).reduceRight(function(t,r){return Object.keys(Object(r)).forEach(function(e){void 0!==r[e]&&(void 0!==t[e]&&delete t[e],t[e]=r[e])}),t},{})}var U=function(e){C(e)||(e={});for(var t=1,r=arguments.length;t<r;t++){var n=arguments[t];C(n)&&W(e,n)}return e};var Q=function(r,n){return r.filter(function(e,t){return-1<n.indexOf(e)&&r.indexOf(e)===t})},m=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return e[r]};var M=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")};var $=function(e,t){if(null===e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n};var B=function(e){return e&&0<Object.keys(e).length},q={addRefinement:function(e,t,r){var n;return q.isRefined(e,t,r)?e:(r=""+r,r=e[t]?e[t].concat(r):[r],(n={})[t]=r,L({},n,e))},removeRefinement:function(e,r,t){var n;return void 0===t?q.clearRefinement(e,function(e,t){return r===t}):(n=""+t,q.clearRefinement(e,function(e,t){return r===t&&n===e}))},toggleRefinement:function(e,t,r){if(void 0===r)throw new Error("toggleRefinement should be used with a value");return q.isRefined(e,t,r)?q.removeRefinement(e,t,r):q.addRefinement(e,t,r)},clearRefinement:function(i,a,o){var c,e;return void 0===a?B(i)?{}:i:"string"==typeof a?$(i,[a]):"function"==typeof a?(c=!1,e=Object.keys(i).reduce(function(e,t){var r=i[t]||[],n=r.filter(function(e){return!a(e,t,o)});return n.length!==r.length&&(c=!0),e[t]=n,e},{}),c?e:i):void 0},isRefined:function(e,t,r){var n=!!e[t]&&0<e[t].length;return void 0!==r&&n?-1!==e[t].indexOf(""+r):n}},r=q;function V(e,r){return Array.isArray(e)&&Array.isArray(r)?e.length===r.length&&e.every(function(e,t){return V(r[t],e)}):e===r}function o(e){var n=e?o._parseNumbers(e):{},i=(void 0===n.userToken||null!==(e=n.userToken)&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=n.facets||[],this.disjunctiveFacets=n.disjunctiveFacets||[],this.hierarchicalFacets=n.hierarchicalFacets||[],this.facetsRefinements=n.facetsRefinements||{},this.facetsExcludes=n.facetsExcludes||{},this.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements||{},this.numericRefinements=n.numericRefinements||{},this.tagRefinements=n.tagRefinements||[],this.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements||{},this);Object.keys(n).forEach(function(e){var t=-1!==o.PARAMETERS.indexOf(e),r=void 0!==n[e];!t&&r&&(i[e]=n[e])})}o.PARAMETERS=Object.keys(new o),o._parseNumbers=function(i){var n,a;return i instanceof o?i:(n={},["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach(function(e){var t,r=i[e];"string"==typeof r&&(t=parseFloat(r),n[e]=isNaN(t)?r:t)}),Array.isArray(i.insideBoundingBox)&&(n.insideBoundingBox=i.insideBoundingBox.map(function(e){return Array.isArray(e)?e.map(function(e){return parseFloat(e)}):e})),i.numericRefinements&&(a={},Object.keys(i.numericRefinements).forEach(function(r){var n=i.numericRefinements[r]||{};a[r]={},Object.keys(n).forEach(function(e){var t=n[e].map(function(e){return Array.isArray(e)?e.map(function(e){return"string"==typeof e?parseFloat(e):e}):"string"==typeof e?parseFloat(e):e});a[r][e]=t})}),n.numericRefinements=a),U({},i,n))},o.make=function(e){var r=new o(e);return(e.hierarchicalFacets||[]).forEach(function(e){var t;e.rootPath&&0===(t=(r=0<(t=r.getHierarchicalRefinement(e.name)).length&&0!==t[0].indexOf(e.rootPath)?r.clearRefinements(e.name):r).getHierarchicalRefinement(e.name)).length&&(r=r.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}),r},o.validate=function(e,t){t=t||{};return e.tagFilters&&t.tagRefinements&&0<t.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&t.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&t.numericRefinements&&B(t.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):B(e.numericRefinements)&&t.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},o.prototype={constructor:o,clearRefinements:function(e){e={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:r.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:r.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:r.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:r.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return e.numericRefinements===this.numericRefinements&&e.facetsRefinements===this.facetsRefinements&&e.facetsExcludes===this.facetsExcludes&&e.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&e.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(e)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,r){var n,r=M(r);return this.isNumericRefined(e,t,r)?this:((n=U({},this.numericRefinements))[e]=U({},n[e]),n[e][t]?(n[e][t]=n[e][t].slice(),n[e][t].push(r)):n[e][t]=[r],this.setQueryParameters({numericRefinements:n}))},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(r,n,i){return void 0!==i?this.isNumericRefined(r,n,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n&&V(e.val,M(i))})}):this:void 0!==n?this.isNumericRefined(r,n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r&&e.op===n})}):this:this.isNumericRefined(r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===r})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(o){var c,t,e;return void 0===o?B(this.numericRefinements)?{}:this.numericRefinements:"string"==typeof o?$(this.numericRefinements,[o]):"function"==typeof o?(c=!1,t=this.numericRefinements,e=Object.keys(t).reduce(function(e,n){var i=t[n],a={},i=i||{};return Object.keys(i).forEach(function(t){var e=i[t]||[],r=[];e.forEach(function(e){o({val:e,op:t},n,"numeric")||r.push(e)}),r.length!==e.length&&(c=!0),a[t]=r}),e[n]=a,e},{}),c?e:this.numericRefinements):void 0},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return r.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:r.addRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return r.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:r.addRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},addDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return r.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:r.addRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},addTagRefinement:function(e){return this.isTagRefined(e)?this:(e={tagRefinements:this.tagRefinements.concat(e)},this.setQueryParameters(e))},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:this.facets.filter(function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter(function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter(function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return r.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:r.removeRefinement(this.facetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeExcludeRefinement:function(e,t){if(this.isConjunctiveFacet(e))return r.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:r.removeRefinement(this.facetsExcludes,e,t)}):this;throw new Error(e+" is not defined in the facets attribute of the helper configuration")},removeDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return r.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:r.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this;throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},removeTagRefinement:function(t){var e;return this.isTagRefined(t)?(e={tagRefinements:this.tagRefinements.filter(function(e){return e!==t})},this.setQueryParameters(e)):this},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsRefinements:r.toggleRefinement(this.facetsRefinements,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleExcludeFacetRefinement:function(e,t){if(this.isConjunctiveFacet(e))return this.setQueryParameters({facetsExcludes:r.toggleRefinement(this.facetsExcludes,e,t)});throw new Error(e+" is not defined in the facets attribute of the helper configuration")},toggleDisjunctiveFacetRefinement:function(e,t){if(this.isDisjunctiveFacet(e))return this.setQueryParameters({disjunctiveFacetsRefinements:r.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)});throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration")},toggleHierarchicalFacetRefinement:function(e,t){var r,n;if(this.isHierarchicalFacet(e))return r=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),n={},void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+r))?-1===t.indexOf(r)?n[e]=[]:n[e]=[t.slice(0,t.lastIndexOf(r))]:n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:L({},n,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration")},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var r;if(this.isHierarchicalFacet(e))return(r={})[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:L({},r,this.hierarchicalFacetsRefinements)});throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.")},removeHierarchicalFacetRefinement:function(e){var t;return this.isHierarchicalFacetRefined(e)?((t={})[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:L({},t,this.hierarchicalFacetsRefinements)})):this},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<this.disjunctiveFacets.indexOf(e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<this.facets.indexOf(e)},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&r.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&r.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&r.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){return!!this.isHierarchicalFacet(e)&&(e=this.getHierarchicalRefinement(e),t?-1!==e.indexOf(t):0<e.length)},isNumericRefined:function(e,t,r){var n,i;return void 0===r&&void 0===t?!!this.numericRefinements[e]:(n=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t],void 0!==r&&n?(r=M(r),t=void 0!==(e=this.numericRefinements[e][t],i=r,m(e,function(e){return V(e,i)})),n&&t):n)},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var t=this,e=Q(Object.keys(this.numericRefinements).filter(function(e){return 0<Object.keys(t.numericRefinements[e]).length}),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter(function(e){return 0<t.disjunctiveFacetsRefinements[e].length}).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){var t=this;return Q(this.hierarchicalFacets.map(function(e){return e.name}),Object.keys(this.hierarchicalFacetsRefinements).filter(function(e){return 0<t.hierarchicalFacetsRefinements[e].length}))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter(function(e){return-1===t.indexOf(e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var r=this.managedParameters,n={},i=this;return Object.keys(this).forEach(function(e){var t=i[e];-1===r.indexOf(e)&&void 0!==t&&(n[e]=t)}),n},setQueryParameter:function(e,t){var r;return this[e]===t?this:((r={})[e]=t,this.setQueryParameters(r))},setQueryParameters:function(e){if(!e)return this;var t=o.validate(this,e);if(t)throw t;var r=this,i=o._parseNumbers(e),t=Object.keys(this).reduce(function(e,t){return e[t]=r[t],e},{}),e=Object.keys(i).reduce(function(e,t){var r=void 0!==e[t],n=void 0!==i[t];return r&&!n?$(e,[t]):(n&&(e[t]=i[t]),e)},t);return new this.constructor(e)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(t){return m(this.hierarchicalFacets,function(e){return e.name===t})},getHierarchicalFacetBreadcrumb:function(e){var t;return this.isHierarchicalFacet(e)&&(t=this.getHierarchicalRefinement(e)[0])?(e=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),t.split(e).map(function(e){return e.trim()})):[]},toString:function(){return JSON.stringify(this,null,2)}};var J=o;function z(e){return Array.isArray(e)?e.filter(Boolean):[]}function Y(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}function X(e,t){var n=(t||[]).map(function(e){return e.split(":")});return e.reduce(function(e,t){var r=t.split(":"),t=m(n,function(e){return e[0]===r[0]});return 1<r.length||!t?(e[0].push(r[0]),e[1].push(r[1])):(e[0].push(t[0]),e[1].push(t[1])),e},[[],[]])}var Z=function(e,r,i){return Array.isArray(e)?(Array.isArray(i)||(i=[]),(e=e.map(function(t,e){return{criteria:r.map(function(e){return t[e]}),index:e,value:t}})).sort(function(e,t){for(var r=-1;++r<e.criteria.length;){var n=function(e,t){if(e!==t){var r=void 0!==e,n=null===e,i=void 0!==t,a=null===t;if(!a&&t<e||n&&i||!r)return 1;if(!n&&e<t||a&&r||!i)return-1}return 0}(e.criteria[r],t.criteria[r]);if(n)return!(r>=i.length)&&"desc"===i[r]?-n:n}return e.index-t.index}),e.map(function(e){return e.value})):[]};var t=function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},G=function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")},K=function(p){return function(e,t){function r(e,o,t){var r,c=e;if(0<t){var n=0;for(c=e;n<t;){var i=c&&Array.isArray(c.data)?c.data:[],c=m(i,function(e){return e.isRefined});n++}}return c&&(r=Object.keys(o.data).map(function(e){return[e,o.data[e]]}).filter(function(e){var t,r,n,i,a,e=e[0];return e=e,t=c.path||u,r=l,n=s,a=f,(!(i=u)||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(n)||i&&e.split(n).length-i.split(n).length==1||-1===e.indexOf(n)&&-1===r.indexOf(n)||0===r.indexOf(e)||0===e.indexOf(t+n)&&(a||0===e.indexOf(r)))}),c.data=Z(r.map(function(e){var t,r,n,i,a=e[0],e=e[1];return e=e,a=a,t=s,r=te(l),n=o.exhaustive,{name:(i=a.split(t))[i.length-1].trim(),path:a,escapedValue:ee(a),count:e,isRefined:r===a||0===r.indexOf(a+t),exhaustive:n,data:null}}),a[0],a[1])),e}var a,s,u,f,l,n=p.hierarchicalFacets[t],i=p.hierarchicalFacetsRefinements[n.name]&&p.hierarchicalFacetsRefinements[n.name][0]||"",o=p._getHierarchicalFacetSeparator(n),c=p._getHierarchicalRootPath(n),h=p._getHierarchicalShowParentLevel(n),n=X(p._getHierarchicalFacetSortBy(n)),d=e.every(function(e){return e.exhaustive}),n=(a=n,s=o,f=h,l=i,e);return(n=(u=c)?e.slice(c.split(o).length):n).reduce(r,{name:p.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:d,data:null})}},ee=t,te=G;var re=t,ne=G;function ie(e){var r={};return e.forEach(function(e,t){r[e]=t}),r}function ae(e,t,r){t&&t[r]&&(e.stats=t[r])}function oe(f,t,r){var c=t[0],l=(this._rawResults=t,this),e=(Object.keys(c).forEach(function(e){l[e]=c[e]}),Object.keys(r||{}).forEach(function(e){l[e]=r[e]}),this.processingTimeMS=t.reduce(function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS},0),this.disjunctiveFacets=[],this.hierarchicalFacets=f.hierarchicalFacets.map(function(){return[]}),this.facets=[],f.getRefinedDisjunctiveFacets()),s=ie(f.facets),u=ie(f.disjunctiveFacets),n=1,h=c.facets||{};Object.keys(h).forEach(function(e){var t,r,n,i,a=h[e],o=(n=f.hierarchicalFacets,t=e,m(n,function(e){return-1<(e.attributes||[]).indexOf(t)}));o?(n=o.attributes.indexOf(e),r=Y(f.hierarchicalFacets,function(e){return e.name===o.name}),l.hierarchicalFacets[r][n]={attribute:e,data:a,exhaustive:c.exhaustiveFacetsCount}):(r=-1!==f.disjunctiveFacets.indexOf(e),n=-1!==f.facets.indexOf(e),r&&(i=u[e],l.disjunctiveFacets[i]={name:e,data:a,exhaustive:c.exhaustiveFacetsCount},ae(l.disjunctiveFacets[i],c.facets_stats,e)),n&&(i=s[e],l.facets[i]={name:e,data:a,exhaustive:c.exhaustiveFacetsCount},ae(l.facets[i],c.facets_stats,e)))}),this.hierarchicalFacets=z(this.hierarchicalFacets),e.forEach(function(e){var i=t[n],a=i&&i.facets?i.facets:{},o=f.getHierarchicalFacetByName(e);Object.keys(a).forEach(function(t){var r,e,n=a[t];o?(r=Y(f.hierarchicalFacets,function(e){return e.name===o.name}),-1!==(e=Y(l.hierarchicalFacets[r],function(e){return e.attribute===t}))&&(l.hierarchicalFacets[r][e].data=U({},l.hierarchicalFacets[r][e].data,n))):(r=u[t],e=c.facets&&c.facets[t]||{},l.disjunctiveFacets[r]={name:t,data:L({},n,e),exhaustive:i.exhaustiveFacetsCount},ae(l.disjunctiveFacets[r],i.facets_stats,t),f.disjunctiveFacetsRefinements[t]&&f.disjunctiveFacetsRefinements[t].forEach(function(e){!l.disjunctiveFacets[r].data[e]&&-1<f.disjunctiveFacetsRefinements[t].indexOf(ne(e))&&(l.disjunctiveFacets[r].data[e]=0)}))}),n++}),f.getRefinedHierarchicalFacets().forEach(function(e){var c=f.getHierarchicalFacetByName(e),s=f._getHierarchicalFacetSeparator(c),u=f.getHierarchicalRefinement(e);0===u.length||u[0].split(s).length<2||t.slice(n).forEach(function(e){var o=e&&e.facets?e.facets:{};Object.keys(o).forEach(function(t){var e,r,n=o[t],i=Y(f.hierarchicalFacets,function(e){return e.name===c.name}),a=Y(l.hierarchicalFacets[i],function(e){return e.attribute===t});-1!==a&&(e={},0<u.length&&(e[r=u[0].split(s)[0]]=l.hierarchicalFacets[i][a].data[r]),l.hierarchicalFacets[i][a].data=L(e,n,l.hierarchicalFacets[i][a].data))}),n++})}),Object.keys(f.facetsExcludes).forEach(function(t){var e=f.facetsExcludes[t],r=s[t];l.facets[r]={name:t,data:c.facets[t],exhaustive:c.exhaustiveFacetsCount},e.forEach(function(e){l.facets[r]=l.facets[r]||{name:t},l.facets[r].data=l.facets[r].data||{},l.facets[r].data[e]=0})}),this.hierarchicalFacets=this.hierarchicalFacets.map(K(f)),this.facets=z(this.facets),this.disjunctiveFacets=z(this.disjunctiveFacets),this._state=f}function ce(r,n){function e(e){return e.name===n}var i,a,t,o;return r._state.isConjunctiveFacet(n)?(i=m(r.facets,e))?Object.keys(i.data).map(function(e){var t=re(e);return{name:e,escapedValue:t,count:i.data[e],isRefined:r._state.isFacetRefined(n,t),isExcluded:r._state.isExcludeRefined(n,e)}}):[]:r._state.isDisjunctiveFacet(n)?(a=m(r.disjunctiveFacets,e))?Object.keys(a.data).map(function(e){var t=re(e);return{name:e,escapedValue:t,count:a.data[e],isRefined:r._state.isDisjunctiveFacetRefined(n,t)}}):[]:r._state.isHierarchicalFacet(n)?((t=m(r.hierarchicalFacets,e))&&(o=r._state.getHierarchicalFacetByName(n),(o=ne(r._state.getHierarchicalRefinement(n)[0]||"").split(r._state._getHierarchicalFacetSeparator(o))).unshift(n),function t(e,r,n){e.isRefined=e.name===r[n];e.data&&e.data.forEach(function(e){t(e,r,n+1)})}(t,o,0)),t):void 0}function se(e,t){e=m(e,function(e){return e.name===t});return e&&e.stats}function ue(e,t,r,n,i){var i=m(i,function(e){return e.name===r}),a=i&&i.data&&i.data[n]?i.data[n]:0,i=i&&i.exhaustive||!1;return{type:t,attributeName:r,name:n,count:a,exhaustive:i}}oe.prototype.getFacetByName=function(t){function e(e){return e.name===t}return m(this.facets,e)||m(this.disjunctiveFacets,e)||m(this.hierarchicalFacets,e)},oe.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],oe.prototype.getFacetValues=function(e,t){var o,c,r=ce(this,e);if(r)return o=L({},t,{sortBy:oe.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),c=this,function t(r,e,n,i){var a;return i=i||0,Array.isArray(e)?r(e,n[i]):e.data&&0!==e.data.length?(a=e.data.map(function(e){return t(r,e,n,i+1)}),a=r(a,n[i]),L({data:a},e)):e}(function(e,t){if(o.facetOrdering){t=t;a=(a=c).renderingContent&&a.renderingContent.facetOrdering&&a.renderingContent.facetOrdering.values&&a.renderingContent.facetOrdering.values[t];if(Boolean(a))return t=e,r=[],n=[],i=((a=a).order||[]).reduce(function(e,t,r){return e[t]=r,e},{}),t.forEach(function(e){var t=e.path||e.name;void 0!==i[t]?r[i[t]]=e:n.push(e)}),r=r.filter(function(e){return e}),"hidden"===(t=a.sortRemainingBy)?r:r.concat(Z(n,(a="alpha"===t?[["path","name"],["asc","asc"]]:[["count"],["desc"]])[0],a[1]))}var r,n,i,a;if(Array.isArray(o.sortBy))return t=X(o.sortBy,oe.DEFAULT_SORT),Z(e,t[0],t[1]);if("function"==typeof o.sortBy)return a=o.sortBy,e.sort(a);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},r,Array.isArray(r)?[e]:c._state.getHierarchicalFacetByName(r.name).attributes)},oe.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?se(this.facets,e):this._state.isDisjunctiveFacet(e)?se(this.disjunctiveFacets,e):void 0},oe.prototype.getRefinements=function(){var o=this._state,c=this,s=[];return Object.keys(o.facetsRefinements).forEach(function(t){o.facetsRefinements[t].forEach(function(e){s.push(ue(0,"facet",t,e,c.facets))})}),Object.keys(o.facetsExcludes).forEach(function(t){o.facetsExcludes[t].forEach(function(e){s.push(ue(0,"exclude",t,e,c.facets))})}),Object.keys(o.disjunctiveFacetsRefinements).forEach(function(t){o.disjunctiveFacetsRefinements[t].forEach(function(e){s.push(ue(0,"disjunctive",t,e,c.disjunctiveFacets))})}),Object.keys(o.hierarchicalFacetsRefinements).forEach(function(a){o.hierarchicalFacetsRefinements[a].forEach(function(e){var t,r,n,i;s.push((t=o,r=a,e=e,n=c.hierarchicalFacets,i=t.getHierarchicalFacetByName(r),t=t._getHierarchicalFacetSeparator(i),i=e.split(t),e=m(n,function(e){return e.name===r}),t=i.reduce(function(e,t){var r=e&&m(e.data,function(e){return e.name===t});return void 0!==r?r:e},e),n=t&&t.count||0,i=t&&t.exhaustive||!1,e=t&&t.path||"",{type:"hierarchical",attributeName:r,name:e,count:n,exhaustive:i}))})}),Object.keys(o.numericRefinements).forEach(function(r){var e=o.numericRefinements[r];Object.keys(e).forEach(function(t){e[t].forEach(function(e){s.push({type:"numeric",attributeName:r,name:e,numericValue:e,operator:t})})})}),o.tagRefinements.forEach(function(e){s.push({type:"tag",attributeName:"_tags",name:e})}),s};var fe=oe;function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var le=n;function he(e){return"function"==typeof e}function de(e){return"object"==typeof e&&null!==e}function pe(e){return void 0===e}n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,r,n,i,a,o,c;if((this._events||(this._events={}),"error"===e)&&(!this._events.error||de(this._events.error)&&!this._events.error.length))throw(c=arguments[1])instanceof Error?c:((o=new Error('Uncaught, unspecified "error" event. ('+c+")")).context=c,o);if(pe(t=this._events[e]))return!1;if(he(t))switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),t.apply(this,n)}else if(de(t))for(n=Array.prototype.slice.call(arguments,1),r=(a=t.slice()).length,i=0;i<r;i++)a[i].apply(this,n);return!0},n.prototype.on=n.prototype.addListener=function(e,t){if(he(t))return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,he(t.listener)?t.listener:t),this._events[e]?de(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,de(this._events[e])&&!this._events[e].warned&&(t=pe(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<t&&this._events[e].length>t&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace)&&console.trace(),this;throw TypeError("listener must be a function")},n.prototype.once=function(e,t){var r;if(he(t))return r=!1,n.listener=t,this.on(e,n),this;throw TypeError("listener must be a function");function n(){this.removeListener(e,n),r||(r=!0,t.apply(this,arguments))}},n.prototype.removeListener=function(e,t){var r,n,i,a;if(!he(t))throw TypeError("listener must be a function");if(this._events&&this._events[e])if(i=(r=this._events[e]).length,n=-1,r===t||he(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(de(r)){for(a=i;0<a--;)if(r[a]===t||r[a].listener&&r[a].listener===t){n=a;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,r;if(this._events)if(this._events.removeListener)if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);this.removeAllListeners("removeListener"),this._events={}}else{if(he(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);delete this._events[e]}else 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e];return this},n.prototype.listeners=function(e){e=this._events&&this._events[e]?he(this._events[e])?[this._events[e]]:this._events[e].slice():[];return e},n.prototype.listenerCount=function(e){if(this._events){e=this._events[e];if(he(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)};G=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})};function me(e,t){this.main=e,this.fn=t,this.lastResults=null}G(me,le),me.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},me.prototype.getModifiedState=function(e){return this.fn(e)};var ge=me;function ye(r){return Object.keys(r).sort(function(e,t){return e.localeCompare(t)}).reduce(function(e,t){return e[t]=r[t],e},{})}var f={_getQueries:function(c,s){var u=[];return u.push({indexName:c,params:f._getHitsSearchParams(s)}),s.getRefinedDisjunctiveFacets().forEach(function(e){u.push({indexName:c,params:f._getDisjunctiveFacetSearchParams(s,e)})}),s.getRefinedHierarchicalFacets().forEach(function(e){var a,o=s.getHierarchicalFacetByName(e),e=s.getHierarchicalRefinement(e),n=s._getHierarchicalFacetSeparator(o);0<e.length&&1<e[0].split(n).length&&(a=e[0].split(n).slice(0,-1).reduce(function(e,t,r){return e.concat({attribute:o.attributes[r],value:0===r?t:[e[e.length-1].value,t].join(n)})},[])).forEach(function(e,t){e=f._getDisjunctiveFacetSearchParams(s,e.attribute,0===t);function n(t){return o.attributes.some(function(e){return e===t.split(":")[0]})}var r=(e.facetFilters||[]).reduce(function(e,t){var r;return Array.isArray(t)&&0<(r=t.filter(function(e){return!n(e)})).length&&e.push(r),"string"!=typeof t||n(t)||e.push(t),e},[]),i=a[t-1];e.facetFilters=0<t?r.concat(i.attribute+":"+i.value):0<r.length?r:void 0,u.push({indexName:c,params:e})})}),u},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(f._getHitsHierarchicalFacetsAttributes(e)),r=f._getFacetFilters(e),n=f._getNumericFilters(e),i=f._getTagFilters(e),t={facets:-1<t.indexOf("*")?["*"]:t,tagFilters:i};return 0<r.length&&(t.facetFilters=r),0<n.length&&(t.numericFilters=n),ye(U({},e.getQueryParams(),t))},_getDisjunctiveFacetSearchParams:function(e,t,r){var n=f._getFacetFilters(e,t,r),i=f._getNumericFilters(e,t),a=f._getTagFilters(e),o={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1},a=(0<a.length&&(o.tagFilters=a),e.getHierarchicalFacetByName(t));return o.facets=a?f._getDisjunctiveHierarchicalFacetAttribute(e,a,r):t,0<i.length&&(o.numericFilters=i),0<n.length&&(o.facetFilters=n),ye(U({},e.getQueryParams(),o))},_getNumericFilters:function(e,i){var a;return e.numericFilters||(a=[],Object.keys(e.numericRefinements).forEach(function(n){var t=e.numericRefinements[n]||{};Object.keys(t).forEach(function(r){var e=t[r]||[];i!==n&&e.forEach(function(e){var t;Array.isArray(e)?(t=e.map(function(e){return n+r+e}),a.push(t)):a.push(n+r+e)})})}),a)},_getTagFilters:function(e){return e.tagFilters||e.tagRefinements.join(",")},_getFacetFilters:function(o,c,s){var u=[],e=o.facetsRefinements||{},r=(Object.keys(e).forEach(function(t){(e[t]||[]).forEach(function(e){u.push(t+":"+e)})}),o.facetsExcludes||{}),n=(Object.keys(r).forEach(function(t){(r[t]||[]).forEach(function(e){u.push(t+":-"+e)})}),o.disjunctiveFacetsRefinements||{}),f=(Object.keys(n).forEach(function(t){var r,e=n[t]||[];t!==c&&e&&0!==e.length&&(r=[],e.forEach(function(e){r.push(t+":"+e)}),u.push(r))}),o.hierarchicalFacetsRefinements||{});return Object.keys(f).forEach(function(e){var t=(f[e]||[])[0];if(void 0!==t){var r,n=o.getHierarchicalFacetByName(e),i=o._getHierarchicalFacetSeparator(n),a=o._getHierarchicalRootPath(n);if(c===e){if(-1===t.indexOf(i)||!a&&!0===s||a&&a.split(i).length===t.split(i).length)return;t=a?(r=a.split(i).length-1,a):(r=t.split(i).length-2,t.slice(0,t.lastIndexOf(i)))}else r=t.split(i).length-1;(e=n.attributes[r])&&u.push([e+":"+t])}}),u},_getHitsHierarchicalFacetsAttributes:function(i){return i.hierarchicalFacets.reduce(function(e,t){var r,n=i.getHierarchicalRefinement(t.name)[0];return n?(r=i._getHierarchicalFacetSeparator(t),n=n.split(r).length,r=t.attributes.slice(0,n+1),e.concat(r)):(e.push(t.attributes[0]),e)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,r){var n,i=e._getHierarchicalFacetSeparator(t);return!0===r?(r=0,(n=e._getHierarchicalRootPath(t))&&(r=n.split(i).length),[t.attributes[r]]):(n=(e.getHierarchicalRefinement(t.name)[0]||"").split(i).length-1,t.attributes.slice(0,1+n))},getSearchForFacetQuery:function(e,t,r,n){n=n.isDisjunctiveFacet(e)?n.clearRefinements(e):n,t={facetQuery:t,facetName:e};return"number"==typeof r&&(t.maxFacetHits=r),ye(U({},f._getHitsSearchParams(n),t))}},ve=f,be="3.11.3",Se=t;function i(e,t,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.11.3)"),this.setClient(e);e=r||{};e.index=t,this.state=J.make(e),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function we(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function Oe(){return this.state.page}G(i,le),i.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},i.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},i.prototype.getQuery=function(){var e=this.state;return ve._getHitsSearchParams(e)},i.prototype.searchOnce=function(e,t){var r=e?this.state.setQueryParameters(e):this.state,e=ve._getQueries(r.index,r),n=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:r}),!t)return this.client.search(e).then(function(e){return n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),{content:new fe(r,e.results),state:r,_originalResponse:e}},function(e){throw n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),e});this.client.search(e).then(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(null,new fe(r,e.results),r)}).catch(function(e){n._currentNbQueries--,0===n._currentNbQueries&&n.emit("searchQueueEmpty"),t(e,null,r)})},i.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,r=this.derivedHelpers[0];if(!r)return Promise.resolve([]);var r=r.getModifiedState(t),t=U({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:$(ve._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),n="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(n);var i=this.client.initIndex(r.index);if("function"!=typeof i.findAnswers)throw new Error(n);return i.findAnswers(r.query,e.queryLanguages,t)},i.prototype.searchForFacetValues=function(t,e,r,n){var i,a,o,c="function"==typeof this.client.searchForFacetValues,s="function"==typeof this.client.initIndex;if(c||s||"function"==typeof this.client.search)return i=this.state.setQueryParameters(n||{}),a=i.isDisjunctiveFacet(t),n=ve.getSearchForFacetQuery(t,e,r,i),this._currentNbQueries++,o=this,r=c?this.client.searchForFacetValues([{indexName:i.index,params:n}]):s?this.client.initIndex(i.index).searchForFacetValues(n):(delete n.facetName,this.client.search([{type:"facet",facet:t,indexName:i.index,params:n}]).then(function(e){return e.results[0]})),this.emit("searchForFacetValues",{state:i,facet:t,query:e}),r.then(function(e){return o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits.forEach(function(e){e.escapedValue=Se(e.value),e.isRefined=a?i.isDisjunctiveFacetRefined(t,e.escapedValue):i.isFacetRefined(t,e.escapedValue)}),e},function(e){throw o._currentNbQueries--,0===o._currentNbQueries&&o.emit("searchQueueEmpty"),e});throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues")},i.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},i.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},i.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},i.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,r),isPageReset:!0}),this},i.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},i.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},i.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},i.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},i.prototype.removeNumericRefinement=function(e,t,r){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,r),isPageReset:!0}),this},i.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},i.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},i.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},i.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},i.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},i.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},i.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},i.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},i.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},i.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},i.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},i.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},i.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},i.prototype.setCurrentPage=we,i.prototype.setPage=we,i.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},i.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},i.prototype.setState=function(e){return this._change({state:J.make(e),isPageReset:!1}),this},i.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new J(e),this},i.prototype.hasRefinements=function(e){return!!B(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},i.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},i.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},i.prototype.hasTag=function(e){return this.state.isTagRefined(e)},i.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},i.prototype.getIndex=function(){return this.state.index},i.prototype.getCurrentPage=Oe,i.prototype.getPage=Oe,i.prototype.getTags=function(){return this.state.tagRefinements},i.prototype.getRefinements=function(e){var r=[],n=(this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"conjunctive"})}),this.state.getExcludeRefinements(e).forEach(function(e){r.push({value:e,type:"exclude"})})):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach(function(e){r.push({value:e,type:"disjunctive"})}),this.state.getNumericRefinements(e));return Object.keys(n).forEach(function(e){var t=n[e];r.push({value:t,operator:e,type:"numeric"})}),r},i.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},i.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},i.prototype._search=function(e){var n=this.state,i=[],t=[],e=(e.onlyWithDerivedHelpers||(t=ve._getQueries(n.index,n),i.push({state:n,queriesCount:t.length,helper:this}),this.emit("search",{state:n,results:this.lastResults})),this.derivedHelpers.map(function(e){var t=e.getModifiedState(n),r=ve._getQueries(t.index,t);return i.push({state:t,queriesCount:r.length,helper:e}),e.emit("search",{state:t,results:e.lastResults}),r})),t=Array.prototype.concat.apply(t,e),e=this._queryId++;this._currentNbQueries++;try{this.client.search(t).then(this._dispatchAlgoliaResponse.bind(this,i,e)).catch(this._dispatchAlgoliaError.bind(this,e))}catch(e){this.emit("error",{error:e})}},i.prototype._dispatchAlgoliaResponse=function(e,t,r){var n;t<this._lastQueryIdReceived||(this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty"),n=r.results.slice(),e.forEach(function(e){var t=e.state,r=e.queriesCount,e=e.helper,r=n.splice(0,r),r=e.lastResults=new fe(t,r);e.emit("result",{results:r,state:t})}))},i.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},i.prototype.containsRefinement=function(e,t,r,n){return e||0!==t.length||0!==r.length||0!==n.length},i.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},i.prototype._change=function(e){var t=e.state,e=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:e}))},i.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},i.prototype.setClient=function(e){return this.client!==e&&("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper (3.11.3)"),this.client=e),this},i.prototype.getClient=function(){return this.client},i.prototype.derive=function(e){e=new ge(this,e);return this.derivedHelpers.push(e),e},i.prototype.detachDerivedHelper=function(e){e=this.derivedHelpers.indexOf(e);if(-1===e)throw new Error("Derived helper already detached");this.derivedHelpers.splice(e,1)},i.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var je=i;function Pe(e,t,r){return new je(e,t,r)}Pe.version=be,Pe.AlgoliaSearchHelper=je,Pe.SearchParameters=J,Pe.SearchResults=fe;var g=Pe,t=("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}).performance||{};t.now||t.mozNow||t.msNow||t.oNow||t.webkitNow;function h(){}function d(e,t){if(void 0===e||"function"!=typeof e)throw new Error("The render function is not valid (received type ".concat(Object.prototype.toString.call(e).slice(8,-1),").\n\n").concat(t))}function Re(e){var t=e.helper,e=e.attributesToClear,e=void 0===e?[]:e,r=t.state.setPage(0),r=e.reduce(function(e,t){return r.isNumericRefined(t)?e.removeNumericRefinement(t):r.isHierarchicalFacet(t)?e.removeHierarchicalFacetRefinement(t):r.isDisjunctiveFacet(t)?e.removeDisjunctiveFacetRefinement(t):r.isConjunctiveFacet(t)?e.removeFacetRefinement(t):e},r);return r=-1!==e.indexOf("query")?r.setQuery(""):r}var Fe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ee=/[&<>"']/g,xe=RegExp(Ee.source);var _e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ie=/&(amp|quot|lt|gt|#39);/g,Te=RegExp(Ie.source);function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e){if("object"===Ae(t=e)&&null!==t&&"[object Object]"===(null===(t=e)?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t))){var t;if(null===Object.getPrototypeOf(e))return 1;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}}function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(){return(ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function He(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ce(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?He(Object(r),!0).forEach(function(e){We(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function We(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Ne(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ne(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ne(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Le={highlightPreTag:"__ais-highlight__",highlightPostTag:"__/ais-highlight__"},u={highlightPreTag:"<mark>",highlightPostTag:"</mark>"};function Ue(e){return((e=e)&&xe.test(e)?e.replace(Ee,function(e){return Fe[e]}):e).replace(new RegExp(Le.highlightPreTag,"g"),u.highlightPreTag).replace(new RegExp(Le.highlightPostTag,"g"),u.highlightPostTag)}function Qe(r){return De(r)&&"string"!=typeof r.value?Object.keys(r).reduce(function(e,t){return Ce(Ce({},e),{},We({},t,Qe(r[t])))},{}):Array.isArray(r)?r.map(Qe):Ce(Ce({},r),{},{value:Ue(r.value)})}function Me(e){return void 0===e.__escaped&&((e=e.map(function(e){e=ke({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));return e._highlightResult&&(e._highlightResult=Qe(e._highlightResult)),e._snippetResult&&(e._snippetResult=Qe(e._snippetResult)),e})).__escaped=!0),e}function $e(e){var t=u.highlightPreTag,r=u.highlightPostTag;return e.map(function(e){return e.isHighlighted?t+e.value+r:e.value}).join("")}function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e){var f=e.instantSearchInstance,l=e.helper,h=e.attribute,d=e.widgetType;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i,a,o=t[0],c=t[1],s=t[2],s=void 0===s?"Filter Applied":s,u="string"==typeof h?h:h(c);1===t.length&&"object"===Be(t[0])?f.sendEventToInsights(t[0]):"click"!==o||2!==t.length&&3!==t.length||(i=u,a=c,(n=l).state.isHierarchicalFacet(i)?n.state.isHierarchicalFacetRefined(i,a):n.state.isConjunctiveFacet(i)?n.state.isFacetRefined(i,a):n.state.isDisjunctiveFacetRefined(i,a))||f.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:d,eventType:o,payload:{eventName:s,index:l.getIndex(),filters:["".concat(u,":").concat(c)]},attribute:u})}}function Ve(e){return btoa(encodeURIComponent(JSON.stringify(e)))}function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ze(e){var r,n,i,t,a,o,c=e.index,s=e.widgetType,u=(e.methodName,e.args),e=e.instantSearchInstance;return 1===u.length&&"object"===Je(u[0])?[u[0]]:(r=u[0],t=u[1],n=u[2],!t||!("click"!==r&&"conversion"!==r||n)||0===(u=Array.isArray(t)?t.slice():[t]).length?[]:(i=u[0].__queryID,t=function(e,t){for(var r=1<arguments.length&&void 0!==t?t:20,n=[],i=0;i<Math.ceil(e.length/r);i++)n.push(e.slice(i*r,(i+1)*r));return n}(u),a=t.map(function(e){return e.map(function(e){return e.objectID})}),o=t.map(function(e){return e.map(function(e){return e.__position})}),"view"===r?"idle"!==e.status?[]:t.map(function(e,t){return{insightsMethod:"viewedObjectIDs",widgetType:s,eventType:r,payload:{eventName:n||"Hits Viewed",index:c,objectIDs:a[t]},hits:e}}):"click"===r?t.map(function(e,t){return{insightsMethod:"clickedObjectIDsAfterSearch",widgetType:s,eventType:r,payload:{eventName:n,index:c,queryID:i,objectIDs:a[t],positions:o[t]},hits:e}}):"conversion"===r?t.map(function(e,t){return{insightsMethod:"convertedObjectIDsAfterSearch",widgetType:s,eventType:r,payload:{eventName:n,index:c,queryID:i,objectIDs:a[t]},hits:e}}):[]))}function Ye(e){var n=e.instantSearchInstance,i=e.index,a=e.widgetType;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];ze({widgetType:a,index:i,methodName:"sendEvent",args:t,instantSearchInstance:n}).forEach(function(e){return n.sendEventToInsights(e)})}}function Xe(e){var i=e.index,a=e.widgetType,o=e.instantSearchInstance;return function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=ze({widgetType:a,index:i,methodName:"bindEvent",args:t,instantSearchInstance:o});return n.length?"data-insights-event=".concat(Ve(n)):""}}function Ze(e){return"ais.index"===e.$$type}function Ge(t,e){var r=t[e.getIndexId()]||{};e.getHelper().setState(e.getWidgetSearchParameters(e.getHelper().state,{uiState:r})),e.getWidgets().filter(Ze).forEach(function(e){return Ge(t,e)})}var Ke=Promise.resolve();function et(n){function e(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];null===i&&(i=Ke.then(function(){i=null,a?a=!1:n.apply(void 0,t)}))}var i=null,a=!1;return e.wait=function(){if(null===i)throw new Error("The deferred function should be called before calling `wait()`");return i},e.cancel=function(){null!==i&&(a=!0)},e}function a(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.map(function(e){return t=(e=e).name,e=e.connector,["https://www.algolia.com/doc/api-reference/widgets/",t,"/js/",void 0!==e&&e?"#connector":""].join("");var t}).join(", ");return function(e){return[e,"See documentation: ".concat(n)].filter(Boolean).join("\n\n")}}function tt(e){return"number"==typeof e&&e<0||"string"==typeof e?String(e).replace(/^-/,"\\-"):e}function rt(e,t){for(var r,n=0;n<e.length;n++)if(t(r=e[n],n,e))return r}function nt(e){var t=u.highlightPostTag,r=u.highlightPreTag,e=e.split(r),r=e.shift(),n=r?[{value:r,isHighlighted:!1}]:[];return e.forEach(function(e){e=e.split(t);n.push({value:e[0],isHighlighted:!0}),""!==e[1]&&n.push({value:e[1],isHighlighted:!1})}),n}var it=new RegExp(/\w/i);function at(e,t){var r=e[t],n=(null==(n=e[t+1])?void 0:n.isHighlighted)||!0,t=(null==(e=e[t-1])?void 0:e.isHighlighted)||!0;return it.test((e=r.value)&&Te.test(e)?e.replace(Ie,function(e){return _e[e]}):e)||t!==n?r.isHighlighted:t}function ot(e,t){return(Array.isArray(t)?t:t.split(".")).reduce(function(e,t){return e&&e[t]},e)}function ct(e,t,r,n,i){var a,i=4<arguments.length&&void 0!==i?i:[],o={type:t,attribute:r,name:n,escapedValue:tt(n)},c=rt(i,function(e){return e.name===r});if("hierarchical"===t){for(var i=e.getHierarchicalFacetByName(r),s=n.split(i.separator),u=0;void 0!==c&&u<s.length;++u)!function(t){var r;c=c&&c.data&&rt(Object.keys(c.data).map((r=c.data,function(e){return r[e]})),function(e){return e.name===s[t]})}(u);a=c&&c.count}else a=c&&c.data&&c.data[o.name];return void 0!==a&&(o.count=a),c&&void 0!==c.exhaustive&&(o.exhaustive=c.exhaustive),o}function st(r,n,e){var e=2<arguments.length&&void 0!==e&&e,i=[],t=n.facetsRefinements,a=void 0===t?{}:t,t=n.facetsExcludes,o=void 0===t?{}:t,t=n.disjunctiveFacetsRefinements,c=void 0===t?{}:t,t=n.hierarchicalFacetsRefinements,s=void 0===t?{}:t,t=n.numericRefinements,u=void 0===t?{}:t,t=n.tagRefinements,t=void 0===t?[]:t;return Object.keys(a).forEach(function(t){a[t].forEach(function(e){i.push(ct(n,"facet",t,e,r.facets))})}),Object.keys(o).forEach(function(t){o[t].forEach(function(e){i.push({type:"exclude",attribute:t,name:e,exclude:!0})})}),Object.keys(c).forEach(function(t){c[t].forEach(function(e){i.push(ct(n,"disjunctive",t,"string"==typeof(e=e)?e.replace(/^\\-/,"-"):e,r.disjunctiveFacets))})}),Object.keys(s).forEach(function(t){s[t].forEach(function(e){i.push(ct(n,"hierarchical",t,e,r.hierarchicalFacets))})}),Object.keys(u).forEach(function(r){var n=u[r];Object.keys(n).forEach(function(e){var t=e,e=n[t];(Array.isArray(e)?e:[e]).forEach(function(e){i.push({type:"numeric",attribute:r,name:"".concat(e),numericValue:e,operator:t})})})}),t.forEach(function(e){i.push({type:"tag",attribute:"_tags",name:e})}),e&&n.query&&n.query.trim()&&i.push({attribute:"query",type:"query",name:n.query,query:n.query}),i}function ut(e){return(ut="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function lt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==ut(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==ut(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ut(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ft(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ht(e,r,n){return e.map(function(e,t){return lt(lt({},e),{},{__position:n*r+t+1})})}function dt(e){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function mt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==dt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==dt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===dt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):pt(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function gt(e,t){return t?e.map(function(e){return mt(mt({},e),{},{__queryID:t})}):e}function yt(e){return e!==Object(e)}function vt(e,t){if(e===t)return 1;if(yt(e)||yt(t)||"function"==typeof e||"function"==typeof t)return e===t;if(Object.keys(e).length===Object.keys(t).length){for(var r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(!(i in t))return;if(!vt(e[i],t[i]))return}return 1}}function v(e){return"number"==typeof e&&isFinite(e)}function bt(e){return e.filter(function(e,t,r){return r.indexOf(e)===t})}function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wt=["facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements","ruleContexts"];function Ot(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function c(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ot(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==St(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==St(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===St(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ot(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function jt(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Pt(e,t){return e.setQueryParameters({hierarchicalFacets:t.hierarchicalFacets.reduce(function(e,t){var r=function(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)if(t(e[r]))return r;return-1}(e,function(e){return e.name===t.name});return-1===r?e.concat(t):((e=e.slice()).splice(r,1,t),e)},e.hierarchicalFacets)})}var Rt=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t){r=t;var e=e.setQueryParameters({hierarchicalFacetsRefinements:c(c({},e.hierarchicalFacetsRefinements),r.hierarchicalFacetsRefinements)}),r=Pt(e,t),e=t.tagRefinements.reduce(function(e,t){return e.addTagRefinement(t)},r),e=(r=t,e.setQueryParameters({numericRefinements:c(c({},e.numericRefinements),r.numericRefinements)})),e=(r=t,e.setQueryParameters({disjunctiveFacetsRefinements:c(c({},e.disjunctiveFacetsRefinements),r.disjunctiveFacetsRefinements)})),e=(r=t,e.setQueryParameters({facetsExcludes:c(c({},e.facetsExcludes),r.facetsExcludes)})),e=(r=t,e.setQueryParameters({facetsRefinements:c(c({},e.facetsRefinements),r.facetsRefinements)})),r=function(e,t){t=bt([].concat(e.ruleContexts).concat(t.ruleContexts).filter(Boolean));return 0<t.length?e.setQueryParameters({ruleContexts:t}):e}(t.disjunctiveFacets.reduce(function(e,t){return e.addDisjunctiveFacet(t)},e),t),e=t.facets.reduce(function(e,t){return e.addFacet(t)},r),r=t;return r.facets,r.disjunctiveFacets,r.facetsRefinements,r.facetsExcludes,r.disjunctiveFacetsRefinements,r.numericRefinements,r.tagRefinements,r.hierarchicalFacets,r.hierarchicalFacetsRefinements,r.ruleContexts,r=jt(r,wt),e.setQueryParameters(r)})};function Ft(e){return function(e){if(Array.isArray(e))return Et(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?Et(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Et(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Et(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xt(e){var t=e.start,r=void 0===t?0:t,t=e.end,e=e.step,e=void 0===e?1:e,n=0===e?1:e,e=Math.round((t-r)/n);return Ft(Array(e)).map(function(e,t){return r+t*n})}function _t(e,t,r){var n=t.getHelper();return{uiState:r,helper:n,parent:t,instantSearchInstance:e,state:n.state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,scopedResults:[],searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function It(e,t){var r=t.getResults();return{helper:t.getHelper(),parent:t,instantSearchInstance:e,results:r,scopedResults:t.getScopedResults(),state:r._state,renderState:e.renderState,templatesConfig:e.templatesConfig,createURL:t.createURL,searchMetadata:{isSearchStalled:"stalled"===e.status},status:e.status,error:e.error}}function Tt(e){return(Tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Dt(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?At(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==Tt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Tt(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):At(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Nt(r){return r.some(function(e){return e.isHighlighted})?r.map(function(e,t){return Dt(Dt({},e),{},{isHighlighted:!at(r,t)})}):r.map(function(e){return Dt(Dt({},e),{},{isHighlighted:!1})})}function kt(e,t){t=(1<arguments.length&&void 0!==t?t:{fallback:function(){}}).fallback;return"undefined"==typeof window?t():e({window:window})}function Ht(e){return Array.isArray(e)?e:[e]}function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(r),!0).forEach(function(e){Lt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wt(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Lt(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Ct(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ct(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ct(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ut=a({name:"configure",connector:!0});function Qt(e,t){return e.setQueryParameters(Object.keys(t.searchParameters).reduce(function(e,t){return l(l({},e),{},Lt({},t,void 0))},{}))}var Mt=function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return function(n){var t;if(n&&De(n.searchParameters))return t={},{$$type:"ais.configure",init:function(e){var t=e.instantSearchInstance;r(l(l({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(l(l({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return i(),Qt(e,n)},getRenderState:function(e,t){t=this.getWidgetRenderState(t);return l(l({},e),{},{configure:l(l({},t),{},{widgetParams:l(l({},t.widgetParams),{},{searchParameters:Rt(new g.SearchParameters(null==(e=e.configure)?void 0:e.widgetParams.searchParameters),new g.SearchParameters(t.widgetParams.searchParameters)).getQueryParams()})})})},getWidgetRenderState:function(e){var r,e=e.helper;return t.refine||(t.refine=(r=e,function(e){var t=Qt(r.state,n),t=Rt(t,new g.SearchParameters(e));n.searchParameters=e,r.setState(t).search()})),{refine:t.refine,widgetParams:n}},getWidgetSearchParameters:function(e,t){t=t.uiState;return Rt(e,new g.SearchParameters(l(l({},t.configure),n.searchParameters)))},getWidgetUiState:function(e){return l(l({},e),{},{configure:l(l({},e.configure),n.searchParameters)})}};throw new Error(Ut("The `searchParameters` option expects an object."))}};function $t(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function b(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$t(Object(r),!0).forEach(function(e){Bt(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$t(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t,r){return(t=function(e){e=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qt(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};for(var r,n={},i=Object.keys(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Vt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?Jt(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jt(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zt=Object.prototype.hasOwnProperty;function Yt(e,t,r){if(null!=r&&r(e,t))return!0;var n,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((i=e.length)===t.length)for(;i--&&Yt(e[i],t[i],r););return-1===i}if(!n||"object"===j(e)){for(n in i=0,e){if(zt.call(e,n)&&++i&&!zt.call(t,n))return!1;if(!(n in t&&Yt(e[n],t[n],r)))return!1}return Object.keys(t).length===i}}return e!=e&&t!=t}function Xt(e){var t;return new g.SearchResults(e,[{query:null!=(t=e.query)?t:"",page:null!=(t=e.page)?t:0,hitsPerPage:null!=(t=e.hitsPerPage)?t:20,hits:[],nbHits:0,nbPages:0,params:"",exhaustiveNbHits:!0,exhaustiveFacetsCount:!0,processingTimeMS:0,index:e.index}],{__isArtificial:!0})}function Zt(r){var e=r.getHelper(),n=r.getResults()||Xt(e.state),e=r.getScopedResults().map(function(e){var t=e.indexId===r.getIndexId()?n:Xt(e.helper.state);return b(b({},e),{},{results:e.results||t})});return{results:n,scopedResults:e}}function Gt(e,t){if(!e){if(!__DEV__)throw new Error("Invariant failed");if(__DEV__)throw new Error("[InstantSearch] ".concat("function"==typeof t?t():t))}}var Kt=y.createContext(null);function er(){var e=y.useContext(Kt);return Gt(null!==e,"The <Index> component must be used within <InstantSearch>."),e}__DEV__&&(Kt.displayName="Index");var tr=y.createContext(null);function rr(){var e=y.useContext(tr);return Gt(null!==e,"Hooks must be used inside the <InstantSearch> component.\n\nThey are not compatible with the `react-instantsearch-core` and `react-instantsearch-dom` packages, so make sure to use the <InstantSearch> component from `react-instantsearch-hooks`."),e}__DEV__&&(tr.displayName="InstantSearch");var nr=y.createContext(null);function ir(){return y.useContext(nr)}function ar(e){var t=Vt(y.useState(function(){return e}),2),r=t[0],t=t[1];return Yt(r,e)||t(e),r}__DEV__&&(nr.displayName="InstantSearchServer");var or="undefined"!=typeof window?y.useLayoutEffect:y.useEffect;function cr(e){var r=e.widget,n=e.parentIndex,i=e.props,e=e.shouldSsr,a=y.useRef(i),o=(y.useEffect(function(){a.current=i},[i]),y.useRef(r)),c=(y.useEffect(function(){o.current=r},[r]),y.useRef(null)),s=e&&!n.getWidgets().includes(r),u=rr();or(function(){var e=o.current;function t(){u._preventWidgetCleanup||n.removeWidgets([e])}return null===c.current?s||n.addWidgets([r]):(clearTimeout(c.current),Yt(i,a.current)||(t(),n.addWidgets([r]))),function(){c.current=setTimeout(t)}},[n,r,s,u,i]),s&&n.addWidgets([r])}var sr=["instantSearchInstance","widgetParams"],ur=["widgetParams"];function p(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=ir(),i=rr(),a=er(),o=ar(t),c=ar(r),s=y.useRef(!0),u=y.useRef(null),f=y.useMemo(function(){return b(b({},e(function(e,t){t?s.current=!0:s.current&&(e.instantSearchInstance,e.widgetParams,Yt(t=qt(e,sr),u.current,function(e,t){return(null==e?void 0:e.constructor)===Function&&(null==t?void 0:t.constructor)===Function})||(l(t),u.current=t))},function(){s.current=!1})(o)),c)},[e,o,c]),t=Vt(y.useState(function(){var e,t,r;return f.getWidgetRenderState?(e=a.getHelper(),r=a.getWidgetUiState({})[a.getIndexId()],e.state=(null==(t=f.getWidgetSearchParameters)?void 0:t.call(f,e.state,{uiState:r}))||e.state,r=(t=Zt(a)).results,t=t.scopedResults,(r=f.getWidgetRenderState({helper:e,parent:a,instantSearchInstance:i,results:r,scopedResults:t,state:e.state,renderState:i.renderState,templatesConfig:i.templatesConfig,createURL:a.createURL,searchMetadata:{isSearchStalled:"stalled"===i.status},status:i.status,error:i.error})).widgetParams,qt(r,ur)):{}}),2),r=t[0],l=t[1];return cr({widget:f,parentIndex:a,props:o,shouldSsr:Boolean(n)}),r}function fr(e,t){return p(Mt,{searchParameters:e},t)}function lr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function hr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?lr(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==dr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==dr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===dr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):lr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function dr(e){return(dr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var pr=a({name:"dynamic-widgets",connector:!0}),mr=function(u){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(u,pr()),function(r){var c,e=r.widgets,t=r.maxValuesPerFacet,n=void 0===t?20:t,t=r.facets,i=void 0===t?["*"]:t,t=r.transformItems,a=void 0===t?function(e){return e}:t,s=r.fallbackWidget;if(!(e&&Array.isArray(e)&&e.every(function(e){return"object"===dr(e)})))throw new Error(pr("The `widgets` option expects an array of widgets."));if(Array.isArray(i)&&i.length<=1&&("*"===i[0]||void 0===i[0]))return c=new Map,{$$type:"ais.dynamicWidgets",init:function(r){e.forEach(function(e){var t=function(e,t){var r=null==(r=e.getWidgetRenderState)?void 0:r.call(e,t),t=null;if(r&&r.widgetParams&&((r=r.widgetParams).attribute?t=r.attribute:Array.isArray(r.attributes)&&(t=r.attributes[0])),"string"!=typeof t)throw new Error("Could not find the attribute of the widget:\n\n".concat(JSON.stringify(e),"\n\nPlease check whether the widget's getWidgetRenderState returns widgetParams.attribute correctly."));return t}(e,r);c.set(t,{widget:e,isMounted:!1})}),u(hr(hr({},this.getWidgetRenderState(r)),{},{instantSearchInstance:r.instantSearchInstance}),!0)},render:function(e){var t=e.parent,i=this.getWidgetRenderState(e),a=[],o=[];s&&i.attributesToRender.forEach(function(e){var t;c.has(e)||(t=s({attribute:e}),c.set(e,{widget:t,isMounted:!1}))}),c.forEach(function(e,t){var r=e.widget,e=e.isMounted,n=-1<i.attributesToRender.indexOf(t);!e&&n?(o.push(r),c.set(t,{widget:r,isMounted:!0})):e&&!n&&(a.push(r),c.set(t,{widget:r,isMounted:!1}))}),t.addWidgets(o),setTimeout(function(){return t.removeWidgets(a)},0),u(hr(hr({},i),{},{instantSearchInstance:e.instantSearchInstance}),!1)},dispose:function(e){var e=e.parent,r=[];c.forEach(function(e){var t=e.widget;e.isMounted&&r.push(t)}),e.removeWidgets(r),o()},getWidgetSearchParameters:function(e){return i.reduce(function(e,t){return e.addFacet(t)},e.setQueryParameters({maxValuesPerFacet:Math.max(n||0,e.maxValuesPerFacet||0)}))},getRenderState:function(e,t){return hr(hr({},e),{},{dynamicWidgets:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results;e.state;if(!t)return{attributesToRender:[],widgetParams:r};e=a(null!=(e=null==(e=t.renderingContent)||null==(e=e.facetOrdering)||null==(e=e.facets)?void 0:e.order)?e:[],{results:t});if(Array.isArray(e))return{attributesToRender:e,widgetParams:r};throw new Error(pr("The `transformItems` option expects a function that returns an Array."))}};throw new Error(pr('The `facets` option only accepts [] or ["*"], you passed '.concat(JSON.stringify(i))))}};function gr(e,t){return p(mr,b(b({},e),{},{widgets:[]}),t)}var yr=["children","fallbackComponent"];function vr(){return null}function br(e){return"object"===j(e)&&e.props}function Sr(e){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var wr=["initialSearchParameters"];function Or(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function jr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Or(Object(r),!0).forEach(function(e){Pr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Pr(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Sr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Sr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Sr(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rr(e){return function(e){if(Array.isArray(e))return Fr(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?Fr(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fr(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Er(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var xr=a({name:"index-widget"});function _r(e,t){var r=t.state,n=t.isPageReset,t=t._uiState;r!==e.state&&(e.state=r,e.emit("change",{state:e.state,results:e.lastResults,isPageReset:n,_uiState:t}))}function Ir(e,r,t){return e.reduce(function(e,t){return!Ze(t)&&(t.getWidgetUiState||t.getWidgetState)?t.getWidgetUiState?t.getWidgetUiState(e,r):t.getWidgetState(e,r):e},2<arguments.length&&void 0!==t?t:{})}function Tr(e,t){var r=t.initialSearchParameters,n=Er(t,wr);return e.filter(function(e){return!Ze(e)}).reduce(function(e,t){return t.getWidgetSearchParameters?t.getWidgetSearchParameters(e,n):e},r)}var Ar=function(e){if(void 0===e||void 0===e.indexName)throw new Error(xr("The `indexName` option is required."));var o=e.indexName,e=e.indexId,c=void 0===e?o:e,s=[],u={},f=null,l=null,h=null,d=null,p=null;return{$$type:"ais.index",$$widgetType:"ais.index",getIndexName:function(){return o},getIndexId:function(){return c},getHelper:function(){return h},getResults:function(){var e;return null!=(e=d)&&e.lastResults?(d.lastResults._state=h.state,d.lastResults):null},getPreviousState:function(){return p},getScopedResults:function(){var e=this.getParent();return function r(e){return e.filter(Ze).reduce(function(e,t){return e.concat.apply(e,[{indexId:t.getIndexId(),results:t.getResults(),helper:t.getHelper()}].concat(Rr(r(t.getWidgets()))))},[])}(e?e.getWidgets():[this])},getParent:function(){return l},createURL:function(e){return f._createURL(Pr({},c,Ir(s,{searchParameters:e,helper:h})))},getWidgets:function(){return s},addWidgets:function(e){var t=this;if(!Array.isArray(e))throw new Error(xr("The `addWidgets` method expects an array of widgets."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(xr("The widget definition expects a `render` and/or an `init` method."));return s=s.concat(e),f&&Boolean(e.length)&&(_r(h,{state:Tr(s,{uiState:u,initialSearchParameters:h.state}),_uiState:u}),e.forEach(function(e){e.getRenderState&&Dr({renderState:e.getRenderState(f.renderState[t.getIndexId()]||{},_t(f,t,f._initialUiState)),instantSearchInstance:f,parent:t})}),e.forEach(function(e){e.init&&e.init(_t(f,t,f._initialUiState))}),f.scheduleSearch()),this},removeWidgets:function(t){var e,r=this;if(!Array.isArray(t))throw new Error(xr("The `removeWidgets` method expects an array of widgets."));if(t.some(function(e){return"function"!=typeof e.dispose}))throw new Error(xr("The widget definition expects a `dispose` method."));return s=s.filter(function(e){return-1===t.indexOf(e)}),f&&Boolean(t.length)&&(e=t.reduce(function(e,t){return t.dispose({helper:h,state:e,parent:r})||e},h.state),u=Ir(s,{searchParameters:e,helper:h}),h.setState(Tr(s,{uiState:u,initialSearchParameters:e})),s.length)&&f.scheduleSearch(),this},init:function(e){var i,t=this,r=e.instantSearchInstance,n=e.parent,a=e.uiState;null===h&&(f=r,l=n,u=a[c]||{},i=r.mainHelper,e=Tr(s,{uiState:u,initialSearchParameters:new g.SearchParameters({index:o})}),(h=g({},e.index,e)).search=function(){return r.onStateChange?(r.onStateChange({uiState:r.mainIndex.getWidgetUiState({}),setUiState:function(e){return r.setUiState(e,!1)}}),i):i.search()},h.searchWithoutTriggeringOnStateChange=function(){return i.search()},h.searchForFacetValues=function(e,t,r,n){n=h.state.setQueryParameters(n);return i.searchForFacetValues(e,t,r,n)},d=i.derive(function(){return Rt.apply(void 0,Rr(function(e){for(var t=e.getParent(),r=[e.getHelper().state];null!==t;)r=[t.getHelper().state].concat(r),t=t.getParent();return r}(t)))}),(e=null==(n=r._initialResults)?void 0:n[this.getIndexId()])&&(n=new g.SearchResults(new g.SearchParameters(e.state),e.results),d.lastResults=n,h.lastResults=n),h.on("change",function(e){e.isPageReset&&!function r(e){e=e.filter(Ze);0!==e.length&&e.forEach(function(e){var t=e.getHelper();_r(t,{state:t.state.resetPage(),isPageReset:!0}),r(e.getWidgets())})}(s)}),d.on("search",function(){r.scheduleStalledRender()}),d.on("result",function(e){e=e.results;r.scheduleRender(),h.lastResults=e,p=e._state}),s.forEach(function(e){e.getRenderState&&Dr({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},_t(r,t,a)),instantSearchInstance:r,parent:t})}),s.forEach(function(e){e.init&&e.init(_t(r,t,a))}),h.on("change",function(e){var t=e.state,e=e._uiState;u=Ir(s,{searchParameters:t,helper:h},e||{}),r.onStateChange||r.onInternalStateChange()}),e)&&r.scheduleRender()},render:function(e){var t=this,r=e.instantSearchInstance;this.getResults()&&("error"!==r.status||r.mainHelper.hasPendingRequests()||h.setState(p),s.forEach(function(e){e.getRenderState&&Dr({renderState:e.getRenderState(r.renderState[t.getIndexId()]||{},It(r,t)),instantSearchInstance:r,parent:t})}),s.forEach(function(e){e.render&&e.render(It(r,t))}))},dispose:function(){var t=this;s.forEach(function(e){e.dispose&&e.dispose({helper:h,state:h.state,parent:t})}),l=f=null,h.removeAllListeners(),h=null,d.detach(),d=null},getWidgetUiState:function(e){return s.filter(Ze).reduce(function(e,t){return t.getWidgetUiState(e)},jr(jr({},e),{},Pr({},c,jr(jr({},e[c]),u))))},getWidgetState:function(e){return this.getWidgetUiState(e)},getWidgetSearchParameters:function(e,t){t=t.uiState;return Tr(s,{uiState:t,initialSearchParameters:e})},refreshUiState:function(){u=Ir(s,{searchParameters:this.getHelper().state,helper:this.getHelper()},u)}}};function Dr(e){var t=e.renderState,r=e.instantSearchInstance,e=e.parent,e=(e||r.mainIndex).getIndexId();r.renderState=jr(jr({},r.renderState),{},Pr({},e,jr(jr({},r.renderState[e]),t)))}function Nr(){return Vt(y.useReducer(function(e){return e+1},0),2)[1]}var kr=y.createContext(null);function Hr(){return y.useContext(kr)}__DEV__&&(kr.displayName="InstantSearchSSR");var Cr=["children"];function Wr(r){return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.descendantName,e=e.modifierName,t=t?"-".concat(t):"",e=e?"--".concat(e):"";return"".concat("ais","-").concat(r).concat(t).concat(e)}}var Lr=Wr("Highlight");var Ur=Wr("ReverseHighlight");var Qr=Wr("Snippet");var Mr=Wr("ReverseSnippet");function $r(e){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Br(e,t){var r,e={method:e,payload:t},t=e.method;if("object"!==$r(e=e.payload))throw new Error("The insights helper expects the payload to be an object.");try{r=Ve(e)}catch(e){throw new Error("Could not JSON serialize the payload object.")}return'data-insights-method="'.concat(t,'" data-insights-payload="').concat(r,'"')}function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Jr(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==qr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==qr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===qr(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Vr(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function zr(e){var r=e.numberLocale;return{formatNumber:function(e,t){return Number(t(e)).toLocaleString(r)},highlight:function(e,t){try{var r=JSON.parse(e);return t((n=Jr(Jr({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(ot(o._highlightResult,i)||{}).value)?"":o,o=Lr({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),i.replace(new RegExp(u.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(u.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\nThe highlight helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},reverseHighlight:function(e,t){try{var r=JSON.parse(e);return t((n=Jr(Jr({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(ot(o._highlightResult,i)||{}).value)?"":o,o=Ur({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),$e(Nt(nt(i))).replace(new RegExp(u.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(u.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\n  The reverseHighlight helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},snippet:function(e,t){try{var r=JSON.parse(e);return t((n=Jr(Jr({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(ot(o._snippetResult,i)||{}).value)?"":o,o=Qr({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),i.replace(new RegExp(u.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(u.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\nThe snippet helper expects a JSON object of the format:\n{ "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},reverseSnippet:function(e,t){try{var r=JSON.parse(e);return t((n=Jr(Jr({},r),{},{hit:this}),i=n.attribute,a=void 0===(a=n.highlightedTagName)?"mark":a,o=n.hit,n=void 0===(n=n.cssClasses)?{}:n,i=void 0===(o=(ot(o._snippetResult,i)||{}).value)?"":o,o=Mr({descendantName:"highlighted"})+(n.highlighted?" ".concat(n.highlighted):""),$e(Nt(nt(i))).replace(new RegExp(u.highlightPreTag,"g"),"<".concat(a,' class="').concat(o,'">')).replace(new RegExp(u.highlightPostTag,"g"),"</".concat(a,">"))))}catch(e){throw new Error('\n  The reverseSnippet helper expects a JSON object of the format:\n  { "attribute": "name", "highlightedTagName": "mark" }')}var n,i,a,o},insights:function(e,t){try{var r=JSON.parse(e),n=r.method,i=r.payload;return t(Br(n,Jr({objectIDs:[this.objectID]},i)))}catch(e){throw new Error('\nThe insights helper expects a JSON object of the format:\n{ "method": "method-name", "payload": { "eventName": "name of the event" } }')}}}}function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Xr=["configure"];function Zr(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Gr(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Zr(Object(r),!0).forEach(function(e){Kr(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zr(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Kr(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Yr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Yr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Yr(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function en(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function tn(e){e.configure;return en(e,Xr)}function rn(e,t){hn.apply(e,fn(t)?t:[t])}function nn(e,t,r,n,i,a,o,c,s,u,f,l,h,d){var p=e;if("function"==typeof o?p=o(t,p):p instanceof Date?p=u(p):"comma"===r&&fn(p)&&(p=on.maybeMap(p,function(e){return e instanceof Date?u(e):e})),null===p){if(n)return a&&!h?a(t,P.encoder,d,"key",f):t;p=""}if("string"==typeof(e=p)||"number"==typeof e||"boolean"==typeof e||"symbol"===j(e)||"bigint"==typeof e||on.isBuffer(p)){if(a){e=h?t:a(t,P.encoder,d,"key",f);if("comma"===r&&h){for(var m=ln.call(String(p),","),g="",y=0;y<m.length;++y)g+=(0===y?"":",")+l(a(m[y],P.encoder,d,"value",f));return[l(e)+"="+g]}return[l(e)+"="+l(a(p,P.encoder,d,"value",f))]}return[l(t)+"="+l(String(p))]}var v,b=[];if(void 0!==p){v="comma"===r&&fn(p)?[{value:0<p.length?p.join(",")||null:void 0}]:fn(o)?o:(e=Object.keys(p),c?e.sort(c):e);for(var S=0;S<v.length;++S){var w=v[S],O="object"===j(w)&&void 0!==w.value?w.value:p[w];i&&null===O||(w=fn(p)?"function"==typeof r?r(t,w):t:t+(s?"."+w:"["+w+"]"),rn(b,nn(O,w,r,n,i,a,o,c,s,u,f,l,h,d)))}}return b}function an(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r}var on=require("./utils"),cn=require("./formats"),sn=Object.prototype.hasOwnProperty,un={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},fn=Array.isArray,ln=String.prototype.split,hn=Array.prototype.push,dn=Date.prototype.toISOString,G=cn.default,P={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:on.encode,encodeValuesOnly:!1,format:G,formatter:cn.formatters[G],indices:!1,serializeDate:function(e){return dn.call(e)},skipNulls:!1,strictNullHandling:!1},be=(module.exports=function(e,t){var r=e,n=function(e){if(!e)return P;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||P.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=cn.default;if(void 0!==e.format){if(!sn.call(cn.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=cn.formatters[r],i=P.filter;return"function"!=typeof e.filter&&!fn(e.filter)||(i=e.filter),{addQueryPrefix:("boolean"==typeof e.addQueryPrefix?e:P).addQueryPrefix,allowDots:void 0===e.allowDots?P.allowDots:!!e.allowDots,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:P).charsetSentinel,delimiter:(void 0===e.delimiter?P:e).delimiter,encode:("boolean"==typeof e.encode?e:P).encode,encoder:("function"==typeof e.encoder?e:P).encoder,encodeValuesOnly:("boolean"==typeof e.encodeValuesOnly?e:P).encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:("function"==typeof e.serializeDate?e:P).serializeDate,skipNulls:("boolean"==typeof e.skipNulls?e:P).skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:P).strictNullHandling}}(t),i=("function"==typeof n.filter?r=(0,n.filter)("",r):fn(n.filter)&&(o=n.filter),[]);if("object"!==j(r)||null===r)return"";var e=t&&t.arrayFormat in un?t.arrayFormat:!(t&&"indices"in t)||t.indices?"indices":"repeat",a=un[e],o=o||Object.keys(r);n.sort&&o.sort(n.sort);for(var c=0;c<o.length;++c){var s=o[c];n.skipNulls&&null===r[s]||rn(i,nn(r[s],s,a,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}t=i.join(n.delimiter),e=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?e+="utf8=%26%2310003%3B&":e+="utf8=%E2%9C%93&"),0<t.length?e+t:""},Object.freeze({__proto__:null})),pn=require("./formats"),mn=Object.prototype.hasOwnProperty,gn=Array.isArray,S=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),yn=(module.exports={arrayToObject:an,assign:function(e,r){return Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),c=0;c<o.length;++c){var s=o[c],u=a[s];"object"===j(u)&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:s}),r.push(u))}for(var f=t;1<f.length;){var l=f.pop(),h=l.obj[l.prop];if(gn(h)){for(var d=[],p=0;p<h.length;++p)void 0!==h[p]&&d.push(h[p]);l.obj[l.prop]=d}}return e},decode:function(t,e,r){t=t.replace(/\+/g," ");if("iso-8859-1"===r)return t.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(t)}catch(e){return t}},encode:function(e,t,r,n,i){if(0===e.length)return e;var a=e;if("symbol"===j(e)?a=Symbol.prototype.toString.call(e):"string"!=typeof e&&(a=String(e)),"iso-8859-1"===r)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var o="",c=0;c<a.length;++c){var s=a.charCodeAt(c);45===s||46===s||95===s||126===s||48<=s&&s<=57||65<=s&&s<=90||97<=s&&s<=122||i===pn.RFC1738&&(40===s||41===s)?o+=a.charAt(c):s<128?o+=S[s]:s<2048?o+=S[192|s>>6]+S[128|63&s]:s<55296||57344<=s?o+=S[224|s>>12]+S[128|s>>6&63]+S[128|63&s]:(c+=1,s=65536+((1023&s)<<10|1023&a.charCodeAt(c)),o+=S[240|s>>18]+S[128|s>>12&63]+S[128|s>>6&63]+S[128|63&s])}return o},isBuffer:function(e){return!(!e||"object"!==j(e)||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(gn(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(t(e[n]));return r}return t(e)},merge:function n(i,a,o){if(!a)return i;if("object"!==j(a)){if(gn(i))i.push(a);else{if(!i||"object"!==j(i))return[i,a];(o&&(o.plainObjects||o.allowPrototypes)||!mn.call(Object.prototype,a))&&(i[a]=!0)}return i}var e;return i&&"object"===j(i)?(gn(e=i)&&!gn(a)&&(e=an(i,o)),gn(i)&&gn(a)?(a.forEach(function(e,t){var r;mn.call(i,t)?(r=i[t])&&"object"===j(r)&&e&&"object"===j(e)?i[t]=n(r,e,o):i.push(e):i[t]=e}),i):Object.keys(a).reduce(function(e,t){var r=a[t];return mn.call(e,t)?e[t]=n(e[t],r,o):e[t]=r,e},e)):[i].concat(a)}},Object.freeze({__proto__:null})),vn=Object.prototype.hasOwnProperty,bn=Array.isArray,w={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:yn.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Sn=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},wn=function(e,t){return e&&"string"==typeof e&&t.comma&&-1<e.indexOf(",")?e.split(","):e},On="utf8=%26%2310003%3B",jn="utf8=%E2%9C%93",Pn=function(e,t,r,n){for(var i=n?t:wn(t,r),a=e.length-1;0<=a;--a){var o,c,s,u=e[a];"[]"===u&&r.parseArrays?o=[].concat(i):(o=r.plainObjects?Object.create(null):{},c="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,s=parseInt(c,10),r.parseArrays||""!==c?!isNaN(s)&&u!==c&&String(s)===c&&0<=s&&r.parseArrays&&s<=r.arrayLimit?(o=[])[s]=i:"__proto__"!==c&&(o[c]=i):o={0:i}),i=o}return i},Rn=String.prototype.replace,Fn=/%20/g,t="RFC3986",En={formats:{default:t,formatters:{RFC1738:function(e){return Rn.call(e,Fn,"+")},RFC3986:function(e){return String(e)}},RFC1738:"RFC1738",RFC3986:t},parse:function(e,t){var r=function(e){if(!e)return w;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=(void 0===e.charset?w:e).charset;return{allowDots:void 0===e.allowDots?w.allowDots:!!e.allowDots,allowPrototypes:("boolean"==typeof e.allowPrototypes?e:w).allowPrototypes,arrayLimit:("number"==typeof e.arrayLimit?e:w).arrayLimit,charset:t,charsetSentinel:("boolean"==typeof e.charsetSentinel?e:w).charsetSentinel,comma:("boolean"==typeof e.comma?e:w).comma,decoder:("function"==typeof e.decoder?e:w).decoder,delimiter:("string"==typeof e.delimiter||yn.isRegExp(e.delimiter)?e:w).delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:w.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:("boolean"==typeof e.interpretNumericEntities?e:w).interpretNumericEntities,parameterLimit:("number"==typeof e.parameterLimit?e:w).parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:("boolean"==typeof e.plainObjects?e:w).plainObjects,strictNullHandling:("boolean"==typeof e.strictNullHandling?e:w).strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof e?function(e,t){var r,n,i,a,o={},e=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,c=t.parameterLimit===1/0?void 0:t.parameterLimit,s=e.split(t.delimiter,c),u=-1,f=t.charset;if(t.charsetSentinel)for(r=0;r<s.length;++r)0===s[r].indexOf("utf8=")&&(s[r]===jn?f="utf-8":s[r]===On&&(f="iso-8859-1"),u=r,r=s.length);for(r=0;r<s.length;++r)r!==u&&((a=-1===(a=-1===(a=(n=s[r]).indexOf("]="))?n.indexOf("="):a+1)?(i=t.decoder(n,w.decoder,f,"key"),t.strictNullHandling?null:""):(i=t.decoder(n.slice(0,a),w.decoder,f,"key"),yn.maybeMap(wn(n.slice(a+1),t),function(e){return t.decoder(e,w.decoder,f,"value")})))&&t.interpretNumericEntities&&"iso-8859-1"===f&&(a=Sn(a)),-1<n.indexOf("[]=")&&(a=bn(a)?[a]:a),vn.call(o,i)?o[i]=yn.combine(o[i],a):o[i]=a);return o}(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),o=0;o<a.length;++o)var c=a[o],c=function(e,t,r,n){if(e){var i=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=0<r.depth&&/(\[[^[\]]*])/.exec(i),e=o?i.slice(0,o.index):i,c=[];if(e){if(!r.plainObjects&&vn.call(Object.prototype,e)&&!r.allowPrototypes)return;c.push(e)}for(var s=0;0<r.depth&&null!==(o=a.exec(i))&&s<r.depth;){if(s+=1,!r.plainObjects&&vn.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+i.slice(o.index)+"]"),Pn(c,t,r,n)}}(c,n[c],r,"string"==typeof e),i=yn.merge(i,c,r);return yn.compact(i)},stringify:be};function xn(e){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,In(n.key),n)}}function O(e,t,r){(t=In(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function In(e){e=function(e,t){if("object"!==xn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==xn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===xn(e)?e:String(e)}function Tn(e){e&&(window.document.title=e)}var An=function(){function u(e){var r=this,t=e.windowTitle,n=e.writeDelay,n=void 0===n?400:n,i=e.createURL,a=e.parseURL,o=e.getLocation,c=e.start,s=e.dispose,e=e.push;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");O(this,"windowTitle",void 0),O(this,"writeDelay",void 0),O(this,"_createURL",void 0),O(this,"parseURL",void 0),O(this,"getLocation",void 0),O(this,"writeTimer",void 0),O(this,"inPopState",!1),O(this,"isDisposed",!1),O(this,"latestAcknowledgedHistory",0),O(this,"_start",void 0),O(this,"_dispose",void 0),O(this,"_push",void 0),this.windowTitle=t,this.writeTimer=void 0,this.writeDelay=n,this._createURL=i,this.parseURL=a,this.getLocation=o,this._start=c,this._dispose=s,this._push=e,kt(function(e){var e=e.window,t=r.windowTitle&&r.windowTitle(r.read());Tn(t),r.latestAcknowledgedHistory=e.history.length})}var e,t,r;return e=u,(t=[{key:"read",value:function(){return this.parseURL({qsModule:En,location:this.getLocation()})}},{key:"write",value:function(i){var a=this;kt(function(e){var t=e.window,r=a.createURL(i),n=a.windowTitle&&a.windowTitle(i);a.writeTimer&&clearTimeout(a.writeTimer),a.writeTimer=setTimeout(function(){Tn(n),a.shouldWrite(r)&&(a._push?a._push(r):t.history.pushState(i,n||"",r),a.latestAcknowledgedHistory=t.history.length),a.inPopState=!1,a.writeTimer=void 0},a.writeDelay)})}},{key:"onUpdate",value:function(e){var t=this;this._start&&this._start(function(){e(t.read())}),this._onPopState=function(){t.writeTimer&&(clearTimeout(t.writeTimer),t.writeTimer=void 0),t.inPopState=!0,e(t.read())},kt(function(e){e.window.addEventListener("popstate",t._onPopState)})}},{key:"createURL",value:function(e){return this._createURL({qsModule:En,routeState:e,location:this.getLocation()})}},{key:"dispose",value:function(){var t=this;this._dispose&&this._dispose(),this.isDisposed=!0,kt(function(e){e=e.window;t._onPopState&&e.removeEventListener("popstate",t._onPopState)}),this.writeTimer&&clearTimeout(this.writeTimer),this.write({})}},{key:"shouldWrite",value:function(r){var n=this;return kt(function(e){var e=e.window,t=!(n.isDisposed&&n.latestAcknowledgedHistory!==e.history.length);return!n.inPopState&&t&&r!==e.location.href})}}])&&_n(e.prototype,t),r&&_n(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}();function Dn(e){return(Dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nn(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function kn(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nn(Object(r),!0).forEach(function(e){Hn(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nn(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Hn(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Dn(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Dn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Dn(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cn(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.router,i=void 0===t?function(e){var e=0<arguments.length&&void 0!==e?e:{},t=e.createURL,r=e.parseURL,n=e.writeDelay,i=e.windowTitle,a=e.getLocation,o=e.start,c=e.dispose,e=e.push;return new An({createURL:void 0===t?function(e){var t=e.qsModule,r=e.routeState,e=e.location,n=e.protocol,i=e.hostname,a=e.port,a=void 0===a?"":a,o=e.pathname,e=e.hash,t=t.stringify(r),r=""===a?"":":".concat(a);return(t?"".concat(n,"//").concat(i).concat(r).concat(o,"?").concat(t):"".concat(n,"//").concat(i).concat(r).concat(o)).concat(e)}:t,parseURL:void 0===r?function(e){var t=e.qsModule,e=e.location;return t.parse(e.search.slice(1),{arrayLimit:99})}:r,writeDelay:void 0===n?400:n,windowTitle:i,getLocation:void 0===a?function(){return kt(function(e){return e.window.location},{fallback:function(){throw new Error("You need to provide `getLocation` to the `history` router in environments where `window` does not exist.")}})}:a,start:o,dispose:c,push:e})}():t,a=void 0===(t=e.stateMapping)?{stateToRoute:function(r){return Object.keys(r).reduce(function(e,t){return Gr(Gr({},e),{},Kr({},t,tn(r[t])))},{})},routeToState:function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(r).reduce(function(e,t){return Gr(Gr({},e),{},Kr({},t,tn(r[t])))},{})}}:t;return function(e){var t=e.instantSearchInstance;t._createURL=function(r){var e=Object.keys(r).reduce(function(e,t){return kn(kn({},e),{},Hn({},t,r[t]))},t.mainIndex.getWidgetUiState({})),e=a.stateToRoute(e);return i.createURL(e)};var r=void 0,n=t._initialUiState;return{onStateChange:function(e){e=e.uiState,e=a.stateToRoute(e);void 0!==r&&vt(r,e)||(i.write(e),r=e)},subscribe:function(){t._initialUiState=kn(kn({},n),a.routeToState(i.read())),i.onUpdate(function(e){t.setUiState(a.routeToState(e))})},started:function(){},unsubscribe:function(){i.dispose()}}}}function Wn(){return function(e){var t=e.instantSearchInstance,r={widgets:[]},n=document.createElement("meta"),i=document.querySelector("head");return n.name="instantsearch:widgets",{onStateChange:function(){},subscribe:function(){setTimeout(function(){var e=t.client;r.ua=e.transporter&&e.transporter.userAgent?e.transporter.userAgent.value:e._ua,function n(e,i,a){var o=_t(i,i.mainIndex,i._initialUiState);e.forEach(function(e){var t={},r=(e.getWidgetRenderState&&(r=e.getWidgetRenderState(o))&&r.widgetParams&&(t=r.widgetParams),Object.keys(t).filter(function(e){return void 0!==t[e]}));a.widgets.push({type:e.$$type,widgetType:e.$$widgetType,params:r}),"ais.index"===e.$$type&&n(e.getWidgets(),i,a)})}(t.mainIndex.getWidgets(),t,r),n.content=JSON.stringify(r),i.appendChild(n)},0)},started:function(){},unsubscribe:function(){n.remove()}}}}function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Un(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Qn(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qn(n.key),n)}}function Mn(e,t){return(Mn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $n(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=Bn(r),t=(e=n?(e=Bn(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),this);if(e&&("object"===Ln(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return R(t)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bn(e){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e,t,r){(t=qn(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function qn(e){e=function(e,t){if("object"!==Ln(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ln(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ln(e)?e:String(e)}var E=a({name:"instantsearch"});function Vn(){return"#"}var Jn=function(){var e=l,t=le;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mn(e,t);var r,f=$n(l);function l(e){var r;if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");F(R(r=f.call(this)),"client",void 0),F(R(r),"indexName",void 0),F(R(r),"insightsClient",void 0),F(R(r),"onStateChange",null),F(R(r),"helper",void 0),F(R(r),"mainHelper",void 0),F(R(r),"mainIndex",void 0),F(R(r),"started",void 0),F(R(r),"templatesConfig",void 0),F(R(r),"renderState",{}),F(R(r),"_stalledSearchDelay",void 0),F(R(r),"_searchStalledTimer",void 0),F(R(r),"_initialUiState",void 0),F(R(r),"_initialResults",void 0),F(R(r),"_createURL",void 0),F(R(r),"_searchFunction",void 0),F(R(r),"_mainHelperSearch",void 0),F(R(r),"middleware",[]),F(R(r),"sendEventToInsights",void 0),F(R(r),"status","idle"),F(R(r),"error",void 0),F(R(r),"scheduleSearch",et(function(){r.started&&r.mainHelper.search()})),F(R(r),"scheduleRender",et(function(){var e,t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0];null!=(e=r.mainHelper)&&e.hasPendingRequests()||(clearTimeout(r._searchStalledTimer),r._searchStalledTimer=null,t&&(r.status="idle",r.error=void 0)),r.mainIndex.render({instantSearchInstance:R(r)}),r.emit("render")})),F(R(r),"onInternalStateChange",et(function(){var t=r.mainIndex.getWidgetUiState({});r.middleware.forEach(function(e){e.instance.onStateChange({uiState:t})})})),r.setMaxListeners(100);var t=e.indexName,t=void 0===t?null:t,n=e.numberLocale,i=e.initialUiState,i=void 0===i?{}:i,a=e.routing,a=void 0===a?null:a,o=e.searchFunction,c=e.stalledSearchDelay,c=void 0===c?200:c,s=e.searchClient,s=void 0===s?null:s,u=e.insightsClient,u=void 0===u?null:u,e=e.onStateChange,e=void 0===e?null:e;if(null===t)throw new Error(E("The `indexName` option is required."));if(null===s)throw new Error(E("The `searchClient` option is required."));if("function"!=typeof s.search)throw new Error("The `searchClient` must implement a `search` method.\n\nSee: https://www.algolia.com/doc/guides/building-search-ui/going-further/backend-search/in-depth/backend-instantsearch/js/");if("function"==typeof s.addAlgoliaAgent&&s.addAlgoliaAgent("instantsearch.js (".concat("4.51.1",")")),u&&"function"!=typeof u)throw new Error(E("The `insightsClient` option should be a function."));return r.client=s,r.insightsClient=u,r.indexName=t,r.helper=null,r.mainHelper=null,r.mainIndex=Ar({indexName:t}),r.onStateChange=e,r.started=!1,r.templatesConfig={helpers:zr({numberLocale:n}),compileOptions:{}},r._stalledSearchDelay=c,r._searchStalledTimer=null,r._createURL=Vn,r._initialUiState=i,r._initialResults=null,o&&(r._searchFunction=o),r.sendEventToInsights=h,a&&r.use(Cn("boolean"==typeof a?void 0:a)),kt(function(e){return-1<(null==(e=e.window.navigator)||null==(e=e.userAgent)?void 0:e.indexOf("Algolia Crawler"))},{fallback:function(){return!1}})&&r.use(Wn()),r}return e=l,(t=[{key:"_isSearchStalled",get:function(){return"stalled"===this.status}},{key:"use",value:function(){for(var r=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.map(function(e){var t=function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Un(Object(r),!0).forEach(function(e){F(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Un(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}({subscribe:h,started:h,unsubscribe:h,onStateChange:h},e({instantSearchInstance:r}));return r.middleware.push({creator:e,instance:t}),t});return this.started&&i.forEach(function(e){e.subscribe(),e.started()}),this}},{key:"unuse",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.middleware.filter(function(e){return t.includes(e.creator)}).forEach(function(e){return e.instance.unsubscribe()}),this.middleware=this.middleware.filter(function(e){return!t.includes(e.creator)}),this}},{key:"EXPERIMENTAL_use",value:function(){return this.use.apply(this,arguments)}},{key:"addWidget",value:function(e){return this.addWidgets([e])}},{key:"addWidgets",value:function(e){if(!Array.isArray(e))throw new Error(E("The `addWidgets` method expects an array of widgets. Please use `addWidget`."));if(e.some(function(e){return"function"!=typeof e.init&&"function"!=typeof e.render}))throw new Error(E("The widget definition expects a `render` and/or an `init` method."));return this.mainIndex.addWidgets(e),this}},{key:"removeWidget",value:function(e){return this.removeWidgets([e])}},{key:"removeWidgets",value:function(e){if(!Array.isArray(e))throw new Error(E("The `removeWidgets` method expects an array of widgets. Please use `removeWidget`."));if(e.some(function(e){return"function"!=typeof e.dispose}))throw new Error(E("The widget definition expects a `dispose` method."));return this.mainIndex.removeWidgets(e),this}},{key:"start",value:function(){var n=this;if(this.started)throw new Error(E("The `start` method has already been called once."));var r,e,i=this.mainHelper||g(this.client,this.indexName);i.search=function(){return n.status="loading",n.scheduleRender(!1),i.searchOnlyWithDerivedHelpers()},this._searchFunction&&(r={search:function(){return new Promise(h)}},this._mainHelperSearch=i.search.bind(i),i.search=function(){var t=n.mainIndex.getHelper(),e=g(r,t.state.index,t.state);return e.once("search",function(e){e=e.state;t.overrideStateWithoutTriggeringChangeEvent(e),n._mainHelperSearch()}),e.on("change",function(e){e=e.state;t.setState(e)}),n._searchFunction(e),i}),i.on("error",function(e){var r,e=e.error;e instanceof Error||(r=e,e=Object.keys(r).reduce(function(e,t){return e[t]=r[t],e},new Error(r.message))),e.error=e,n.error=e,n.status="error",n.scheduleRender(!1),n.emit("error",e)}),this.mainHelper=i,this.middleware.forEach(function(e){e.instance.subscribe()}),this.mainIndex.init({instantSearchInstance:this,parent:null,uiState:this._initialUiState}),this._initialResults?(e=this.scheduleSearch,this.scheduleSearch=et(h),et(function(){n.scheduleSearch=e})()):0<this.mainIndex.getWidgets().length&&this.scheduleSearch(),this.helper=this.mainIndex.getHelper(),this.started=!0,this.middleware.forEach(function(e){e.instance.started()})}},{key:"dispose",value:function(){this.scheduleSearch.cancel(),this.scheduleRender.cancel(),clearTimeout(this._searchStalledTimer),this.removeWidgets(this.mainIndex.getWidgets()),this.mainIndex.dispose(),this.started=!1,this.removeAllListeners(),this.mainHelper.removeAllListeners(),this.mainHelper=null,this.helper=null,this.middleware.forEach(function(e){e.instance.unsubscribe()})}},{key:"scheduleStalledRender",value:function(){var e=this;this._searchStalledTimer||(this._searchStalledTimer=setTimeout(function(){e.status="stalled",e.scheduleRender()},this._stalledSearchDelay))}},{key:"setUiState",value:function(e){var t=this,r=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(!this.mainHelper)throw new Error(E("The `start` method needs to be called before `setUiState`."));this.mainIndex.refreshUiState();var n="function"==typeof e?e(this.mainIndex.getWidgetUiState({})):e;this.onStateChange&&r?this.onStateChange({uiState:n,setUiState:function(e){Ge("function"==typeof e?e(n):e,t.mainIndex),t.scheduleSearch(),t.onInternalStateChange()}}):(Ge(n,this.mainIndex),this.scheduleSearch(),this.onInternalStateChange())}},{key:"getUiState",value:function(){return this.started&&this.mainIndex.refreshUiState(),this.mainIndex.getWidgetUiState({})}},{key:"createURL",value:function(){if(this.started)return this._createURL(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});throw new Error(E("The `start` method needs to be called before `createURL`."))}},{key:"refresh",value:function(){if(!this.mainHelper)throw new Error(E("The `start` method needs to be called before `refresh`."));this.mainHelper.clearCache().search()}}])&&Qn(e.prototype,t),r&&Qn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}();function zn(e,t){return e(t={exports:{}},t.exports),t.exports}var Yn="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},Xn=s.useState,Zn=s.useEffect,Gn=s.useLayoutEffect,Kn=s.useDebugValue;function ei(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yn(e,r)}catch(e){return 1}}var G="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=Xn({inst:{value:r,getSnapshot:t}}),i=n[0].inst,a=n[1];return Gn(function(){i.value=r,i.getSnapshot=t,ei(i)&&a({inst:i})},[e,r,t]),Zn(function(){return ei(i)&&a({inst:i}),e(function(){ei(i)&&a({inst:i})})},[e]),Kn(r),r},ti={useSyncExternalStore:void 0!==s.useSyncExternalStore?s.useSyncExternalStore:G},ri=(zn(function(e,t){}).useSyncExternalStore,zn(function(e){e.exports=ti}).useSyncExternalStore),ni={current:{}};var ii=["react (".concat(y.version,")"),"react-instantsearch (".concat(H,")"),"react-instantsearch-hooks (".concat(H,")")],ai="react-instantsearch-server (".concat(H,")");function oi(e){var t=Nr(),r=ir(),n=Hr(),i=null==n?void 0:n.initialResults,a=y.useRef(e),o=y.useRef(null);if(null===(o=n?n.ssrSearchRef:o).current){n=new Jn(e);if((r||i)&&(n._initialResults=i||{}),ci(e.searchClient,[].concat(ii,[r&&ai])),(r||i)&&n.start(),r&&r.notifyServer({search:n}),i=e.routing,__DEV__&&i&&"undefined"!=typeof window&&"__NEXT_DATA__"in window&&(i=!0!==i&&(null==i||null==(i=i.router)?void 0:i._isNextRouter),__DEV__)){var c='\nYou are using Next.js with InstantSearch without the "react-instantsearch-hooks-router-nextjs" package.\nThis package is recommended to make the routing work correctly with Next.js.\nPlease check its usage instructions: https://github.com/algolia/instantsearch/tree/master/packages/react-instantsearch-hooks-router-nextjs\n\nYou can ignore this warning if you are using a custom router that suits your needs, it won\'t be outputted in production builds.';if(__DEV__&&!i){i=c.trim();if(!ni.current[i]){ni.current[i]=!0;c="[InstantSearch] ".concat(i);console.warn(c);try{throw new Error(c)}catch(e){}}}}o.current=n}var i=o.current,c=a.current,s=(c.indexName!==e.indexName&&(i.helper.setIndex(e.indexName).search(),a.current=e),c.searchClient!==e.searchClient&&(ci(e.searchClient,[].concat(ii,[r&&ai])),i.mainHelper.setClient(e.searchClient).search(),a.current=e),c.onStateChange!==e.onStateChange&&(i.onStateChange=e.onStateChange,a.current=e),c.searchFunction!==e.searchFunction&&(i._searchFunction=e.searchFunction,a.current=e),c.stalledSearchDelay!==e.stalledSearchDelay&&(i._stalledSearchDelay=null!=(n=e.stalledSearchDelay)?n:200,a.current=e),y.useRef(null));return ri(y.useCallback(function(){var e=o.current;return null===s.current?e.started||(e.start(),t()):(clearTimeout(s.current),e._preventWidgetCleanup=!1),function(){s.current=setTimeout(function(){e.dispose()}),e._preventWidgetCleanup=!0}},[t]),function(){return o.current},function(){return o.current})}function ci(t,e){"function"==typeof t.addAlgoliaAgent&&e.filter(Boolean).forEach(function(e){t.addAlgoliaAgent(e)})}var si=["children"];var ui=["children"];function fi(e){return(fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function li(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function hi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?li(Object(r),!0).forEach(function(e){di(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):li(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function di(e,t,r){return(t=function(e){e=function(e,t){if("object"!==fi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==fi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===fi(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?mi(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mi(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gi(u){var f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,l=(d(u,yi()),{});return function(a){var r,e=a||{},t=e.attributes,n=e.separator,i=void 0===n?" > ":n,n=e.rootPath,o=void 0===n?null:n,n=e.transformItems,c=void 0===n?function(e){return e}:n;if(t&&Array.isArray(t)&&0!==t.length)return r=pi(t,1)[0],{$$type:"ais.breadcrumb",init:function(e){u(hi(hi({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){u(hi(hi({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},dispose:function(){f()},getRenderState:function(e,t){return hi(hi({},e),{},{breadcrumb:hi(hi({},e.breadcrumb),{},di({},r,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t=e.helper,r=e.createURL,n=e.results,e=e.state;var i,e=n&&0!==e.hierarchicalFacets.length?(e=pi(e.hierarchicalFacets,1)[0].name,e=(e=n.getFacetValues(e,{}))&&!Array.isArray(e)&&e.data?e.data:[],c((i=function r(e){return e.reduce(function(e,t){return e=t.isRefined&&(e.push({label:t.name,value:t.escapedValue}),Array.isArray(t.data))?e.concat(r(t.data)):e},[])}(e)).map(function(e,t){return{label:e.label,value:t+1===i.length?null:i[t+1].value}}),{results:n})):[];return l.createURL||(l.createURL=function(e){return r(s(t.state,e))}),l.refine||(l.refine=function(e){t.setState(s(t.state,e)).search()}),{canRefine:0<e.length,createURL:l.createURL,items:e,refine:l.refine,widgetParams:a}},getWidgetSearchParameters:function(e){return e.isHierarchicalFacet(r)?(e.getHierarchicalFacetByName(r),e):e.addHierarchicalFacet({name:r,attributes:t,separator:i,rootPath:o})}};throw new Error(yi("The `attributes` option expects an array of strings."));function s(e,t){return t?e.resetPage().toggleFacetRefinement(r,t):0===(t=e.getHierarchicalFacetBreadcrumb(r)).length?e:e.resetPage().toggleFacetRefinement(r,t[0])}}}var yi=a({name:"breadcrumb",connector:!0});function vi(e){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bi(e){return function(e){if(Array.isArray(e))return Si(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?Si(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Si(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Oi(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?wi(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==vi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===vi(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):wi(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ji(r){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Pi()),function(n){var e=n||{},t=e.includedAttributes,c=void 0===t?[]:t,t=e.excludedAttributes,s=void 0===t?["query"]:t,t=e.transformItems,u=void 0===t?function(e){return e}:t;if(n&&n.includedAttributes&&n.excludedAttributes)throw new Error(Pi("The options `includedAttributes` and `excludedAttributes` cannot be used together."));function i(){return f.refine()}function a(){return f.createURL()}var f={refine:h,createURL:function(){return""},attributesToClear:[]};return{$$type:"ais.clearRefinements",init:function(e){var t=e.instantSearchInstance;r(Oi(Oi({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(Oi(Oi({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(){o()},getRenderState:function(e,t){return Oi(Oi({},e),{},{clearRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.createURL,r=e.scopedResults,o=e.results,e=(f.attributesToClear=r.reduce(function(e,t){return e.concat((t=(e={scopedResult:t,includedAttributes:c,excludedAttributes:s,transformItems:u,results:o}).scopedResult,r=e.includedAttributes,n=e.excludedAttributes,i=e.transformItems,e=e.results,a=-1!==r.indexOf("query")||-1===n.indexOf("query"),{helper:t.helper,items:i(bt(st(t.results,t.helper.state,a).map(function(e){return e.attribute}).filter(function(e){return 0===r.length||-1!==r.indexOf(e)}).filter(function(e){return"query"===e&&a||-1===n.indexOf(e)})),{results:e})}));var r,n,i,a},[]),f.refine=function(){f.attributesToClear.forEach(function(e){var t=e.helper,e=e.items;t.setState(Re({helper:t,attributesToClear:e})).search()})},f.createURL=function(){return t(Rt.apply(void 0,bi(f.attributesToClear.map(function(e){return Re({helper:e.helper,attributesToClear:e.items})}))))},f.attributesToClear.some(function(e){return 0<e.items.length}));return{canRefine:e,hasRefinements:e,refine:i,createURL:a,widgetParams:n}}}}}var Pi=a({name:"clear-refinements",connector:!0});function Ri(e){return(Ri="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(e){return function(e){if(Array.isArray(e))return Ei(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?Ei(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ei(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ei(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _i(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?xi(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==Ri(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ri(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ri(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):xi(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Ii(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Ti()),function(a){if((a||{}).includedAttributes&&(a||{}).excludedAttributes)throw new Error(Ti("The options `includedAttributes` and `excludedAttributes` cannot be used together."));var e=a||{},o=e.includedAttributes,t=e.excludedAttributes,c=void 0===t?["query"]:t,t=e.transformItems,s=void 0===t?function(e){return e}:t;return{$$type:"ais.currentRefinements",init:function(e){var t=e.instantSearchInstance;r(_i(_i({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(_i(_i({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(){n()},getRenderState:function(e,t){return _i(_i({},e),{},{currentRefinements:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var r=e.results,t=e.scopedResults,n=e.createURL,i=e.helper;e=r?t.reduce(function(e,t){return e.concat(s(Ai({results:t.results,helper:t.helper,includedAttributes:o,excludedAttributes:c}),{results:r}))},[]):s(Ai({results:{},helper:i,includedAttributes:o,excludedAttributes:c}),{results:r});return{items:e,canRefine:0<e.length,refine:function(e){return Ni(i,e)},createURL:function(e){return n(Di(i.state,e))},widgetParams:a}}}}}var Ti=a({name:"current-refinements",connector:!0});function Ai(e){var t=e.results,r=e.helper,n=e.includedAttributes,i=e.excludedAttributes,e=-1!==(n||[]).indexOf("query")||-1===(i||[]).indexOf("query"),a=n?function(e){return-1!==n.indexOf(e.attribute)}:function(e){return-1===i.indexOf(e.attribute)},o=st(t,r.state,e).map(ki).filter(a);return o.reduce(function(e,t){return[].concat(Fi(e.filter(function(e){return e.attribute!==t.attribute})),[{indexName:r.state.index,attribute:t.attribute,label:t.attribute,refinements:o.filter(function(e){return e.attribute===t.attribute}).sort(function(e,t){return"numeric"===e.type?e.value-t.value:0}),refine:function(e){return Ni(r,e)}}])},[])}function Di(e,t){switch(e=e.resetPage(),t.type){case"facet":return e.removeFacetRefinement(t.attribute,String(t.value));case"disjunctive":return e.removeDisjunctiveFacetRefinement(t.attribute,String(t.value));case"hierarchical":return e.removeHierarchicalFacetRefinement(t.attribute);case"exclude":return e.removeExcludeRefinement(t.attribute,String(t.value));case"numeric":return e.removeNumericRefinement(t.attribute,t.operator,String(t.value));case"tag":return e.removeTagRefinement(String(t.value));case"query":return e.setQueryParameter("query","");default:return e}}function Ni(e,t){e.setState(Di(e.state,t)).search()}function ki(e){var t=function(e){if("numeric"===e.type)return Number(e.name);if("escapedValue"in e)return e.escapedValue;return e.name}(e),r=e.operator?"".concat(function(e){switch(e){case">=":return"â¥";case"<=":return"â¤";default:return e}}(e.operator)," ").concat(e.name):e.name,t={attribute:e.attribute,type:e.type,value:t,label:r};return void 0!==e.operator&&(t.operator=e.operator),void 0!==e.count&&(t.count=e.count),void 0!==e.exhaustive&&(t.exhaustive=e.exhaustive),t}function Hi(e){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ci=["name","escapedValue","data","path"];function Wi(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function x(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Wi(Object(r),!0).forEach(function(e){Li(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wi(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Li(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Hi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Hi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Hi(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ui(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function Qi(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?Mi(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mi(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mi(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $i(S){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(S,Bi()),function(s){var e=s||{},u=e.attributes,t=e.separator,f=void 0===t?" > ":t,t=e.rootPath,n=void 0===t?null:t,t=e.showParentLevel,i=void 0===t||t,t=e.limit,a=void 0===t?10:t,t=e.showMore,l=void 0!==t&&t,t=e.showMoreLimit,o=void 0===t?20:t,t=e.sortBy,h=void 0===t?qi:t,t=e.transformItems,d=void 0===t?function(e){return e}:t;if(!u||!Array.isArray(u)||0===u.length)throw new Error(Bi("The `attributes` option expects an array of strings."));if(!0===l&&o<=a)throw new Error(Bi("The `showMoreLimit` option must be greater than `limit`."));var p,m,g=Qi(u,1)[0],c=function(){};function y(){c()}var v=!1;function b(){return v?o:a}return{$$type:"ais.hierarchicalMenu",init:function(e){var t=e.instantSearchInstance;S(x(x({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t,r,n=e.instantSearchInstance;t=e,c=function(){v=!v,r.render(t)},S(x(x({},(r=this).getWidgetRenderState(e)),{},{instantSearchInstance:n}),!1)},dispose:function(e){e=e.state;return r(),e.removeHierarchicalFacet(g).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return x(x({},e),{},{hierarchicalMenu:x(x({},e.hierarchicalMenu),{},Li({},g,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r=e.results,n=e.state,i=e.createURL,a=e.instantSearchInstance,o=e.helper,e=[],c=!1;return p=p||qe({instantSearchInstance:a,helper:o,attribute:function(e){e=e.split(f).length-1;return u[e]},widgetType:this.$$type}),m=m||function(e){p("click",e),o.toggleFacetRefinement(g,e).search()},r&&(a=(a=r.getFacetValues(g,{sortBy:h,facetOrdering:h===qi}))&&!Array.isArray(a)&&a.data?a.data:[],t=(n.maxValuesPerFacet||0)>b()?a.length<=b():a.length<b(),c=l&&(v||!t),e=d(function i(e){return e.slice(0,b()).map(function(e){var t=e.name,r=e.escapedValue,n=e.data,e=(e.path,x(x({},Ui(e,Ci)),{},{value:r,label:t,data:null}));return Array.isArray(n)&&(e.data=i(n)),e})}(a),{results:r})),{items:e,refine:m,canRefine:0<e.length,createURL:function(e){return i(n.resetPage().toggleFacetRefinement(g,e))},sendEvent:p,widgetParams:s,isShowingMore:v,toggleShowMore:y,canToggleShowMore:c}},getWidgetUiState:function(e,t){t=t.searchParameters.getHierarchicalFacetBreadcrumb(g);return t.length?x(x({},e),{},{hierarchicalMenu:x(x({},e.hierarchicalMenu),{},Li({},g,t))}):e},getWidgetSearchParameters:function(e,t){var t=t.uiState,t=t.hierarchicalMenu&&t.hierarchicalMenu[g],e=(e.isHierarchicalFacet(g)&&e.getHierarchicalFacetByName(g),e.removeHierarchicalFacet(g).addHierarchicalFacet({name:g,attributes:u,separator:f,rootPath:n,showParentLevel:i})),r=e.maxValuesPerFacet||0,r=Math.max(r,l?o:a),e=e.setQueryParameter("maxValuesPerFacet",r);return t?e.addHierarchicalFacetRefinement(g,t.join(f)):e.setQueryParameters({hierarchicalFacetsRefinements:x(x({},e.hierarchicalFacetsRefinements),{},Li({},g,[]))})}}}}var Bi=a({name:"hierarchical-menu",connector:!0}),qi=["name:asc"];function Vi(e){return(Vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ji(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function zi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ji(Object(r),!0).forEach(function(e){Yi(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ji(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Yi(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Vi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Vi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Vi(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xi(r){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Zi()),function(n){var i,a,e=n||{},t=e.escapeHTML,o=void 0===t||t,t=e.transformItems,c=void 0===t?function(e){return e}:t;return{$$type:"ais.hits",init:function(e){r(zi(zi({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=this.getWidgetRenderState(e);r(zi(zi({},t),{},{instantSearchInstance:e.instantSearchInstance}),!1),t.sendEvent("view",t.hits)},getRenderState:function(e,t){return zi(zi({},e),{},{hits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.helper,e=e.instantSearchInstance;if(i=i||Ye({instantSearchInstance:e,index:r.getIndex(),widgetType:this.$$type}),a=a||Xe({index:r.getIndex(),widgetType:this.$$type,instantSearchInstance:e}),!t)return{hits:[],results:void 0,sendEvent:i,bindEvent:a,widgetParams:n};o&&0<t.hits.length&&(t.hits=Me(t.hits));r=gt(ht(t.hits,t.page,t.hitsPerPage),t.queryID);return{hits:c(r,{results:t}),results:t,sendEvent:i,bindEvent:a,widgetParams:n}},dispose:function(e){e=e.state;return s(),o?e.setQueryParameters(Object.keys(Le).reduce(function(e,t){return zi(zi({},e),{},Yi({},t,void 0))},{})):e},getWidgetSearchParameters:function(e){return o?e.setQueryParameters(Le):e}}}}var Zi=a({name:"hits",connector:!0});function Gi(e){return(Gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ki(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?ea(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ea(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ta(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ta(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==Gi(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Gi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Gi(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):ta(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function ra(n){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(n,na()),function(o){var e=o||{},t=e.items,e=e.transformItems,c=void 0===e?function(e){return e}:e;if(!Array.isArray(t))throw new Error(na("The `items` option expects an array of objects."));var s=t,e=s.filter(function(e){return!0===e.default});if(0===e.length)throw new Error(na("A default value must be specified in `items`."));if(1<e.length)throw new Error(na("More than one default value is specified in `items`."));var r=e[0],u=function(t){return function(e){return(e||0===e?t.setQueryParameter("hitsPerPage",e):t.setQueryParameter("hitsPerPage",void 0)).search()}},f=function(e){var t=e.state,r=e.createURL;return function(e){return r(t.resetPage().setQueryParameter("hitsPerPage",e||0===e?e:void 0))}};return{$$type:"ais.hitsPerPage",init:function(e){var t=e.state,r=e.instantSearchInstance;s.some(function(e){return Number(t.hitsPerPage)===Number(e.value)})||(s=[{value:"",label:""}].concat(Ki(s))),n(_(_({},this.getWidgetRenderState(e)),{},{instantSearchInstance:r}),!0)},render:function(e){var t=e.instantSearchInstance;n(_(_({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return i(),e.setQueryParameter("hitsPerPage",void 0)},getRenderState:function(e,t){return _(_({},e),{},{hitsPerPage:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r=e.state,n=e.results,i=e.createURL,e=e.helper,a=!!n&&0<n.nbHits;return{items:c((t=r.hitsPerPage,s.map(function(e){return _(_({},e),{},{isRefined:Number(e.value)===Number(t)})})),{results:n}),refine:u(e),createURL:f({state:r,createURL:i}),hasNoResults:!a,canRefine:a,widgetParams:o}},getWidgetUiState:function(e,t){t=t.searchParameters.hitsPerPage;return void 0===t||t===r.value?e:_(_({},e),{},{hitsPerPage:t})},getWidgetSearchParameters:function(e,t){t=t.uiState;return e.setQueryParameters({hitsPerPage:t.hitsPerPage||r.value})}}}}var na=a({name:"hits-per-page",connector:!0});function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var aa=["page"];function oa(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function I(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?oa(Object(r),!0).forEach(function(e){ca(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oa(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function ca(e,t,r){return(t=function(e){e=function(e,t){if("object"!==ia(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==ia(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ia(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sa(e){return function(e){if(Array.isArray(e))return ua(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?ua(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ua(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ua(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fa(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}var la=a({name:"infinite-hits",connector:!0});function ha(e){e=e||{};e.page;return fa(e,aa)}function da(i){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(i,la()),function(l){var r,n,h,d,p,m,e=l||{},t=e.escapeHTML,g=void 0===t||t,t=e.transformItems,y=void 0===t?function(e){return e}:t,t=e.cache,v=void 0===t?(n=r=null,{read:function(e){e=e.state;return vt(n,ha(e))?r:null},write:function(e){var t=e.state,e=e.hits;n=ha(t),r=e}}):t,b=function(e,t){e=e.page,e=void 0===e?0:e,t=Object.keys(t).map(Number);return 0===t.length?e:Math.min.apply(Math,[e].concat(sa(t)))},S=function(e,t){e=e.page,e=void 0===e?0:e,t=Object.keys(t).map(Number);return 0===t.length?e:Math.max.apply(Math,[e].concat(sa(t)))};return{$$type:"ais.infiniteHits",init:function(e){i(I(I({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){var t=e.instantSearchInstance,e=this.getWidgetRenderState(e);i(I(I({},e),{},{instantSearchInstance:t}),!1),p("view",e.currentPageHits)},getRenderState:function(e,t){return I(I({},e),{},{infiniteHits:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t,r,n,i=e.results,a=e.helper,o=e.parent,c=e.state,e=e.instantSearchInstance,s=[],o=o.getPreviousState()||c,c=v.read({state:o})||{},u=i?(u=void 0===(u=o.page)?0:u,g&&0<i.hits.length&&(i.hits=Me(i.hits)),f=gt(ht(i.hits,i.page,i.hitsPerPage),i.queryID),f=y(f,{results:i}),void 0!==c[u]||i.__isArtificial||"idle"!==e.status||(c[u]=f,v.write({state:o,hits:c})),s=f,0===b(o,c)):(h=function(){r.overrideStateWithoutTriggeringChangeEvent(I(I({},r.state),{},{page:b(r.state,v.read({state:r.state})||{})-1})).searchWithoutTriggeringOnStateChange()},d=function(){t.setPage(S(t.state,v.read({state:t.state})||{})+1).search()},p=Ye({instantSearchInstance:e,index:(t=r=a).getIndex(),widgetType:this.$$type}),m=Xe({index:a.getIndex(),widgetType:this.$$type,instantSearchInstance:e}),void 0===o.page||0===b(o,c)),f=(n=c,Object.keys(n).map(Number).sort(function(e,t){return e-t}).reduce(function(e,t){return e.concat(n[t])},[])),a=!i||i.nbPages<=S(o,c)+1;return{hits:f,currentPageHits:s,sendEvent:p,bindEvent:m,results:i,showPrevious:h,showMore:d,isFirstPage:u,isLastPage:a,widgetParams:l}},dispose:function(e){e=e.state,a(),e=e.setQueryParameter("page",void 0);return g?e.setQueryParameters(Object.keys(Le).reduce(function(e,t){return I(I({},e),{},ca({},t,void 0))},{})):e},getWidgetUiState:function(e,t){t=t.searchParameters.page||0;return t?I(I({},e),{},{page:t+1}):e},getWidgetSearchParameters:function(e,t){var t=t.uiState,r=e,e=(g&&(r=e.setQueryParameters(Le)),t.page?t.page-1:0);return r.setQueryParameter("page",e)}}}}var pa=["name","escapedValue","path"];function ma(e){return(ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function ya(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?va(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?va(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function va(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ba(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function T(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ba(Object(r),!0).forEach(function(e){Sa(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ba(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Sa(e,t,r){return(t=function(e){e=function(e,t){if("object"!==ma(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===ma(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wa(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Oa()),function(u){var f,l,h,e=u||{},d=e.attribute,t=e.limit,n=void 0===t?10:t,t=e.showMore,p=void 0!==t&&t,t=e.showMoreLimit,i=void 0===t?20:t,t=e.sortBy,m=void 0===t?ja:t,t=e.transformItems,g=void 0===t?function(e){return e}:t;if(!d)throw new Error(Oa("The `attribute` option is required."));if(!0===p&&i<=n)throw new Error(Oa("The `showMoreLimit` option must be greater than `limit`."));var y=!1,v=function(){};function b(){v()}function S(){return y?i:n}return{$$type:"ais.menu",init:function(e){var t=e.instantSearchInstance;r(T(T({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(T(T({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return a(),e.removeHierarchicalFacet(d).setQueryParameter("maxValuesPerFacet",void 0)},getRenderState:function(e,t){return T(T({},e),{},{menu:T(T({},e.menu),{},Sa({},d,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r,n=e.results,i=e.createURL,a=e.instantSearchInstance,o=e.helper,c=[],s=!1;return f=f||qe({instantSearchInstance:a,helper:o,attribute:d,widgetType:this.$$type}),l=l||function(e){return i(o.state.resetPage().toggleFacetRefinement(d,e))},h=h||function(e){var t=ya(o.getHierarchicalFacetBreadcrumb(d),1)[0];f("click",e||t),o.toggleFacetRefinement(d,e||t).search()},e.results&&(t=e,r=this,v=function(){y=!y,r.render(t)}),n&&(e=(a=n.getFacetValues(d,{sortBy:m,facetOrdering:m===ja}))&&!Array.isArray(a)&&a.data?a.data:[],s=p&&(y||e.length>S()),c=g(e.slice(0,S()).map(function(e){var t=e.name,r=e.escapedValue;e.path;return T(T({},ga(e,pa)),{},{label:t,value:r})}),{results:n})),{items:c,createURL:l,refine:h,sendEvent:f,canRefine:0<c.length,widgetParams:u,isShowingMore:y,toggleShowMore:b,canToggleShowMore:s}},getWidgetUiState:function(e,t){t=ya(t.searchParameters.getHierarchicalFacetBreadcrumb(d),1)[0];return t?T(T({},e),{},{menu:T(T({},e.menu),{},Sa({},d,t))}):e},getWidgetSearchParameters:function(e,t){var t=t.uiState,t=t.menu&&t.menu[d],e=e.removeHierarchicalFacet(d).addHierarchicalFacet({name:d,attributes:[d]}),r=e.maxValuesPerFacet||0,r=Math.max(r,p?i:n),e=e.setQueryParameter("maxValuesPerFacet",r);return t?e.addHierarchicalFacetRefinement(d,t):e.setQueryParameters({hierarchicalFacetsRefinements:T(T({},e.hierarchicalFacetsRefinements),{},Sa({},d,[]))})}}}}var Oa=a({name:"menu",connector:!0}),ja=["isRefined","name:asc"];function Pa(e){return(Pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}(e,t)||Fa(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Fa(e,t){var r;if(e)return"string"==typeof e?Ea(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ea(e,t):void 0}function Ea(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xa(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function A(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?xa(Object(r),!0).forEach(function(e){_a(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xa(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _a(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Pa(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Pa(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Pa(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ia(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Ta()),function(l){var h,e=l||{},t=e.attribute,d=void 0===t?"":t,t=e.items,p=void 0===t?[]:t,t=e.transformItems,m=void 0===t?function(e){return e}:t;if(""===d)throw new Error(Ta("The `attribute` option is required."));if(p&&0!==p.length)return h={},{$$type:Aa,init:function(e){var t=e.instantSearchInstance;r(A(A({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(A(A({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return n(),e.clearRefinements(d)},getWidgetUiState:function(e,t){var t=t.searchParameters.getNumericRefinements(d),r=t["="]&&t["="][0];return r||0===r?A(A({},e),{},{numericMenu:A(A({},e.numericMenu),{},_a({},d,"".concat(t["="])))}):(r=t[">="]&&t[">="][0]||"",t=t["<="]&&t["<="][0]||"",""===r&&""===t?e:A(A({},e),{},{numericMenu:A(A({},e.numericMenu),{},_a({},d,"".concat(r,":").concat(t)))}))},getWidgetSearchParameters:function(e,t){var r,t=t.uiState,t=t.numericMenu&&t.numericMenu[d],e=e.clearRefinements(d);return t?-1===t.indexOf(":")?e.addNumericRefinement(d,"=",Number(t)):(r=(t=Ra(t.split(":").map(parseFloat),2))[0],t=t[1],r=v(r)?e.addNumericRefinement(d,">=",r):e,v(t)?r.addNumericRefinement(d,"<=",t):r):e.setQueryParameters({numericRefinements:A(A({},e.numericRefinements),{},_a({},d,{}))})},getRenderState:function(e,t){return A(A({},e),{},{numericMenu:A(A({},e.numericMenu),{},_a({},d,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var n,t,r=e.results,i=e.state,a=e.instantSearchInstance,o=e.helper,c=e.createURL,e=(h.refine||(h.refine=function(e){var t=ka(o.state,d,e);h.sendEvent("click",e),o.setState(t).search()}),h.createURL||(h.createURL=function(t){return function(e){return c(ka(t,d,e))}}),h.sendEvent||(h.sendEvent=Da({instantSearchInstance:a})),!r||0===r.nbHits),a=(n=i,p.map(function(e){var t=e.start,r=e.end,e=e.label;return{label:e,value:encodeURI(JSON.stringify({start:t,end:r})),isRefined:Na(n,d,{start:t,end:r,label:e})}})),s=!0,u=function(e,t){var r,n,i,a,o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(o)return n=!(r=!0),{s:function(){o=o.call(e)},n:function(){var e=o.next();return r=e.done,e},e:function(e){n=!0,i=e},f:function(){try{r||null==o.return||o.return()}finally{if(n)throw i}}};if(Array.isArray(e)||(o=Fa(e))||t&&e&&"number"==typeof e.length)return o&&(e=o),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(a);try{for(u.s();!(t=u.n()).done;){var f=t.value;if(f.isRefined&&"{}"!==decodeURI(f.value)){s=!1;break}}}catch(e){u.e(e)}finally{u.f()}return{createURL:h.createURL(i),items:m(a,{results:r}),hasNoResults:e,canRefine:!(e&&s),refine:h.refine,sendEvent:h.sendEvent,widgetParams:l}}};throw new Error(Ta("The `items` option expects an array of objects."))}}var Ta=a({name:"numeric-menu",connector:!0}),Aa="ais.numericMenu",Da=function(e){var t=e.instantSearchInstance;return function(){1===arguments.length&&t.sendEventToInsights(arguments.length<=0?void 0:arguments[0])}};function Na(e,t,r){var n=e.getNumericRefinements(t);return void 0!==r.start&&void 0!==r.end?r.start===r.end?Ha(n,"=",r.start):Ha(n,">=",r.start)&&Ha(n,"<=",r.end):void 0!==r.start?Ha(n,">=",r.start):void 0!==r.end?Ha(n,"<=",r.end):void 0===r.start&&void 0===r.end&&Object.keys(n).every(function(e){return 0===(n[e]||[]).length})}function ka(e,t,r){var r=JSON.parse(decodeURI(r)),n=e.getNumericRefinements(t);if(void 0===r.start&&void 0===r.end)return e.removeNumericRefinement(t);if(Na(e,t,r)||(e=e.removeNumericRefinement(t)),void 0!==r.start&&void 0!==r.end){if(r.start>r.end)throw new Error("option.start should be > to option.end");if(r.start===r.end)return e=Ha(n,"=",r.start)?e.removeNumericRefinement(t,"=",r.start):e.addNumericRefinement(t,"=",r.start)}return void 0!==r.start&&(e=(e=Ha(n,">=",r.start)?e.removeNumericRefinement(t,">=",r.start):e).addNumericRefinement(t,">=",r.start)),"number"==typeof(e=void 0!==r.end?(e=Ha(n,"<=",r.end)?e.removeNumericRefinement(t,"<=",r.end):e).addNumericRefinement(t,"<=",r.end):e).page&&(e.page=0),e}function Ha(e,t,r){return void 0!==e[t]&&e[t].includes(r)}function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ua(n.key),n)}}function La(e,t,r){(t=Ua(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}function Ua(e){e=function(e,t){if("object"!==Ca(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ca(e)?e:String(e)}var Qa=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");La(this,"currentPage",void 0),La(this,"total",void 0),La(this,"padding",void 0),this.currentPage=e.currentPage,this.total=e.total,this.padding=e.padding}var e,r,n;return e=t,(r=[{key:"pages",value:function(){var e,t=this.total,r=this.currentPage,n=this.padding;return 0===t?[0]:xt((e=this.nbPagesDisplayed(n,t))===t?{end:t}:{start:r-(n=this.calculatePaddingLeft(r,n,t,e)),end:r+(e-n)})}},{key:"nbPagesDisplayed",value:function(e,t){return Math.min(2*e+1,t)}},{key:"calculatePaddingLeft",value:function(e,t,r,n){return e<=t?e:r-t<=e?n-(r-e):t}},{key:"isLastPage",value:function(){return this.currentPage===this.total-1||0===this.total}},{key:"isFirstPage",value:function(){return 0===this.currentPage}}])&&Wa(e.prototype,r),n&&Wa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ma(e){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $a(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ba(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?$a(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==Ma(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ma(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ma(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):$a(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function qa(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Va()),function(o){var e=o||{},c=e.totalPages,e=e.padding,s=new Qa({currentPage:0,total:0,padding:void 0===e?3:e}),u={};return{$$type:"ais.pagination",init:function(e){var t=e.instantSearchInstance;r(Ba(Ba({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(Ba(Ba({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),e.setQueryParameter("page",void 0)},getWidgetUiState:function(e,t){t=t.searchParameters.page||0;return t?Ba(Ba({},e),{},{page:t+1}):e},getWidgetSearchParameters:function(e,t){t=t.uiState,t=t.page?t.page-1:0;return e.setQueryParameter("page",t)},getWidgetRenderState:function(e){var t=e.results,r=e.helper,n=e.state,i=e.createURL,e=(u.refine||(u.refine=function(e){r.setPage(e),r.search()}),u.createURL||(u.createURL=function(t){return function(e){return i(t.setPage(e))}}),n.page||0),a=(a=(a=t||{nbPages:0}).nbPages,void 0!==c?Math.min(c,a):a);return s.currentPage=e,s.total=a,{createURL:u.createURL(n),refine:u.refine,canRefine:1<a,currentRefinement:e,nbHits:(null==t?void 0:t.nbHits)||0,nbPages:a,pages:t?s.pages():[],isFirstPage:s.isFirstPage(),isLastPage:s.isLastPage(),widgetParams:o}},getRenderState:function(e,t){return Ba(Ba({},e),{},{pagination:this.getWidgetRenderState(t)})}}}}var Va=a({name:"pagination",connector:!0});function Ja(e){return(Ja="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function za(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Ya(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?za(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==Ja(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ja(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ja(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):za(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function Xa(e){return function(e){if(Array.isArray(e))return Za(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?Za(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Za(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Za(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ga=a({name:"query-rules",connector:!0});function Ka(e){var i,a,o,t=this.helper,r=this.initialRuleContexts,n=this.trackedFilters,c=this.transformRuleContexts,e=e.state,s=e.ruleContexts||[],n=(i=(n={helper:t,sharedHelperState:e,trackedFilters:n}).helper,a=n.sharedHelperState,o=n.trackedFilters,Object.keys(o).reduce(function(e,t){var r=st(i.lastResults||{},a,!0).filter(function(e){return e.attribute===t}).map(function(e){return e.numericValue||e.name}),n=(0,o[t])(r);return[].concat(Xa(e),Xa(r.filter(function(e){return n.includes(e)}).map(function(e){return"ais-".concat(t,"-").concat(e).replace(/[^a-z0-9-_]+/gi,"_")})))},[])),c=c([].concat(Xa(r),Xa(n))).slice(0,10);vt(s,c)||t.overrideStateWithoutTriggeringChangeEvent(Ya(Ya({},e),{},{ruleContexts:c}))}function eo(f){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(f,Ga()),function(i){var a,e=i||{},t=e.trackedFilters,o=void 0===t?{}:t,t=e.transformRuleContexts,c=void 0===t?function(e){return e}:t,t=e.transformItems,r=void 0===t?function(e){return e}:t,s=(Object.keys(o).forEach(function(e){if("function"!=typeof o[e])throw new Error(Ga("'The \"".concat(e,'" filter value in the `trackedFilters` option expects a function.')))}),0<Object.keys(o).length),u=[];return{$$type:"ais.queryRules",init:function(e){var t=e.helper,r=e.state,n=e.instantSearchInstance;u=r.ruleContexts||[],a=Ka.bind({helper:t,initialRuleContexts:u,trackedFilters:o,transformRuleContexts:c}),s&&(([r.disjunctiveFacetsRefinements,r.facetsRefinements,r.hierarchicalFacetsRefinements,r.numericRefinements].some(function(e){return Boolean(e&&0<Object.keys(e).length)})||Boolean(i.transformRuleContexts))&&a({state:r}),t.on("change",a)),f(Ya(Ya({},this.getWidgetRenderState(e)),{},{instantSearchInstance:n}),!0)},render:function(e){var t=e.instantSearchInstance;f(Ya(Ya({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},getWidgetRenderState:function(e){var e=e.results,t=(e||{}).userData;return{items:r(void 0===t?[]:t,{results:e}),widgetParams:i}},getRenderState:function(e,t){return Ya(Ya({},e),{},{queryRules:this.getWidgetRenderState(t)})},dispose:function(e){var t=e.helper,e=e.state;return n(),s?(t.removeListener("change",a),e.setQueryParameter("ruleContexts",u)):e}}}}function to(e){return(to="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ro(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function D(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ro(Object(r),!0).forEach(function(e){no(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ro(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function no(e,t,r){return(t=function(e){e=function(e,t){if("object"!==to(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==to(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===to(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function io(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,c=[],s=!0,u=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);s=!0);}catch(e){u=!0,i=e}finally{try{if(!s&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return c}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?ao(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ao(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oo=a({name:"range-input",connector:!0},{name:"range-slider",connector:!0}),co="ais.range";function so(e){var t=e.min,r=e.max,e=e.precision,e=Math.pow(10,e);return{min:t&&Math.floor(t*e)/e,max:r&&Math.ceil(r*e)/e}}function uo(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,oo()),function(c){var e=c||{},t=e.attribute,u=void 0===t?"":t,f=e.min,l=e.max,t=e.precision,h=void 0===t?0:t;if(!u)throw new Error(oo("The `attribute` option is required."));if(v(f)&&v(l)&&l<f)throw new Error(oo("The `max` option can't be lower than `min`."));var s={from:function(e){return e.toLocaleString()},to:function(e){return Number(Number(e).toFixed(h)).toLocaleString()}},i=function(e,t,r,n){var e=e.state,i=t.min,t=t.max,a=io(e.getNumericRefinement(u,">=")||[],1)[0],o=io(e.getNumericRefinement(u,"<=")||[],1)[0],c=void 0===r||""===r,s=void 0===n||""===n,r=so({min:c?void 0:parseFloat(r),max:s?void 0:parseFloat(n),precision:h}),n=r.min,r=r.max,c=v(f)||i!==n?v(f)&&c?f:n:void 0,n=v(l)||t!==r?v(l)&&s?l:r:void 0,s=void 0===c,r=v(i)&&i<=c,s=s||v(c)&&(!v(i)||r),i=void 0===n,r=v(n)&&n<=t,i=i||v(n)&&(!v(t)||r);return(a!==c||o!==n)&&s&&i?(e=e.removeNumericRefinement(u),v(c)&&(e=e.addNumericRefinement(u,">=",c)),(e=v(n)?e.addNumericRefinement(u,"<=",n):e).resetPage()):null};function d(r,n){return function(){var e=io(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[void 0,void 0],2),t=e[0],e=e[1],t=i(r,n,t,e);t&&r.setState(t).search()}}return{$$type:co,init:function(e){r(D(D({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){r(D(D({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e,t){return D(D({},e),{},{range:D(D({},e.range),{},no({},u,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r=e.results,n=e.helper,e=e.instantSearchInstance,i=rt(r&&r.disjunctiveFacets||[],function(e){return e.name===u}),i=i&&i.stats||{min:void 0,max:void 0},a=(i=i,a=v(f)?f:v(i.min)?i.min:0,i=v(l)?l:v(i.max)?i.max:0,so({min:a,max:i,precision:h})),o=(o=io((i=n).getNumericRefinement(u,">=")||[],1)[0],i=io(i.getNumericRefinement(u,"<=")||[],1)[0],[v(o)?o:-1/0,v(i)?i:1/0]),i=d(n,r?a:{min:void 0,max:void 0});return{refine:i,canRefine:a.min!==a.max,format:s,range:a,sendEvent:(t=e,function(){1===arguments.length&&t.sendEventToInsights(arguments.length<=0?void 0:arguments[0])}),widgetParams:D(D({},c),{},{precision:h}),start:o}},dispose:function(e){e=e.state;return n(),e.removeDisjunctiveFacet(u).removeNumericRefinement(u)},getWidgetUiState:function(e,t){var t=t.searchParameters.getNumericRefinements(u),r=t[">="],r=void 0===r?[]:r,t=t["<="],t=void 0===t?[]:t;return 0===r.length&&0===t.length?e:D(D({},e),{},{range:D(D({},e.range),{},no({},u,"".concat(r,":").concat(t)))})},getWidgetSearchParameters:function(e,t){var r,t=t.uiState,e=e.addDisjunctiveFacet(u).setQueryParameters({numericRefinements:D(D({},e.numericRefinements),{},no({},u,{}))}),t=(v(f)&&(e=e.addNumericRefinement(u,">=",f)),v(l)&&(e=e.addNumericRefinement(u,"<=",l)),t.range&&t.range[u]);return e=t&&-1!==t.indexOf(":")&&(r=(t=io(t.split(":").map(parseFloat),2))[0],t=t[1],v(r)&&(!v(f)||f<r)&&(e=(e=e.removeNumericRefinement(u,">=")).addNumericRefinement(u,">=",r)),v(t))&&(!v(l)||t<l)?(e=e.removeNumericRefinement(u,"<=")).addNumericRefinement(u,"<=",t):e}}}}function fo(e){return(fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lo=["name","escapedValue"],ho=["escapedValue","value"];function po(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function N(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?po(Object(r),!0).forEach(function(e){mo(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):po(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function mo(e,t,r){return(t=function(e){e=function(e,t){if("object"!==fo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===fo(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function go(e,t){if(null==e)return{};var r,n=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],0<=t.indexOf(r)||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)r=i[a],0<=t.indexOf(r)||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r]);return n}function yo(s){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(s,vo()),function(l){var e=l||{},h=e.attribute,t=e.operator,i=void 0===t?"or":t,t=e.limit,d=void 0===t?10:t,t=e.showMore,p=void 0!==t&&t,t=e.showMoreLimit,a=void 0===t?20:t,t=e.sortBy,m=void 0===t?bo:t,t=e.escapeFacetValues,c=void 0===t||t,t=e.transformItems,g=void 0===t?function(e){return e}:t;if(!h)throw new Error(vo("The `attribute` option is required."));if(!/^(and|or)$/.test(i))throw new Error(vo('The `operator` must one of: `"and"`, `"or"` (got "'.concat(i,'").')));if(!0===p&&a<=d)throw new Error(vo("`showMoreLimit` should be greater than `limit`."));function y(e){var t=e.name,r=e.escapedValue;return N(N({},go(e,lo)),{},{value:r,label:t,highlighted:t})}var v,b,S,w=[],O=!0,j=!1,P=function(){};function R(){P()}function F(){return j?a:d}function E(a,o){return function(i){return function(e){var t,r=i.instantSearchInstance,n=i.results;""===e&&w?s(N(N({},o.getWidgetRenderState(N(N({},i),{},{results:v}))),{},{instantSearchInstance:r}),!1):(t={highlightPreTag:(c?Le:u).highlightPreTag,highlightPostTag:(c?Le:u).highlightPostTag},a.searchForFacetValues(h,e,Math.min(F(),100),t).then(function(e){e=c?e.facetHits.map(function(e){return Ce(Ce({},e),{},{highlighted:Ue(e.highlighted)})}):e.facetHits,e=g(e.map(function(e){var t=e.escapedValue,r=e.value;return N(N({},go(e,ho)),{},{value:t,label:r})}),{results:n});s(N(N({},o.getWidgetRenderState(N(N({},i),{},{results:v}))),{},{items:e,canToggleShowMore:!1,canRefine:!0,isFromSearch:!0,instantSearchInstance:r}),!1)}))}}}var x=function(){return function(){}};return{$$type:"ais.refinementList",init:function(e){s(N(N({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!0)},render:function(e){s(N(N({},this.getWidgetRenderState(e)),{},{instantSearchInstance:e.instantSearchInstance}),!1)},getRenderState:function(e,t){return N(N({},e),{},{refinementList:N(N({},e.refinementList),{},mo({},h,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var t,r,n=e.results,i=e.state,a=e.createURL,o=e.instantSearchInstance,c=e.helper,s=[],u=[],o=(S&&b&&x||(S=qe({instantSearchInstance:o,helper:c,attribute:h,widgetType:this.$$type}),b=function(e){S("click",e),c.toggleFacetRefinement(h,e).search()},x=E(c,this)),n&&(u=(o=n.getFacetValues(h,{sortBy:m,facetOrdering:m===bo}))&&Array.isArray(o)?o:[],s=g(u.slice(0,F()).map(y),{results:n}),o=i.maxValuesPerFacet,f=F(),O=f<o?u.length<=f:u.length<f,v=n,w=s,e.results)&&(t=e,r=this,P=function(){j=!j,r.render(t)}),x&&x(e)),u=j&&w.length>d,f=p&&!O;return{createURL:function(e){return a(i.resetPage().toggleFacetRefinement(h,e))},items:s,refine:b,searchForItems:o,isFromSearch:!1,canRefine:0<s.length,widgetParams:l,isShowingMore:j,canToggleShowMore:u||f,toggleShowMore:R,sendEvent:S,hasExhaustiveItems:O}},dispose:function(e){e=e.state,r(),e=e.setQueryParameter("maxValuesPerFacet",void 0);return"and"===i?e.removeFacet(h):e.removeDisjunctiveFacet(h)},getWidgetUiState:function(e,t){t=t.searchParameters,t="or"===i?t.getDisjunctiveRefinements(h):t.getConjunctiveRefinements(h);return t.length?N(N({},e),{},{refinementList:N(N({},e.refinementList),{},mo({},h,t))}):e},getWidgetSearchParameters:function(e,t){var t=t.uiState,r="or"===i,t=t.refinementList&&t.refinementList[h],e=e.clearRefinements(h),e=r?e.addDisjunctiveFacet(h):e.addFacet(h),n=e.maxValuesPerFacet||0,n=Math.max(n,p?a:d),e=e.setQueryParameter("maxValuesPerFacet",n);return t?t.reduce(function(e,t){return r?e.addDisjunctiveFacetRefinement(h,t):e.addFacetRefinement(h,t)},e):e.setQueryParameters(mo({},n=r?"disjunctiveFacetsRefinements":"facetsRefinements",N(N({},e[n]),{},mo({},h,[]))))}}}}var vo=a({name:"refinement-list",connector:!0}),bo=["isRefined","count:desc","name:asc"];function So(e){return(So="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Oo(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?wo(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==So(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==So(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===So(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):wo(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function jo(r){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Po()),function(n){var i,a,e=(n||{}).queryHook,o=void 0===e?Ro:e;return{$$type:"ais.searchBox",init:function(e){var t=e.instantSearchInstance;r(Oo(Oo({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(Oo(Oo({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),e.setQueryParameter("query",void 0)},getRenderState:function(e,t){return Oo(Oo({},e),{},{searchBox:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.helper,r=e.searchMetadata,e=e.state;return i||(i=function(e){o(e,function(e){return t.setQuery(e).search()})},a=function(){t.setQuery("").search()}),{query:e.query||"",refine:i,clear:a,widgetParams:n,isSearchStalled:r.isSearchStalled}},getWidgetUiState:function(e,t){t=t.searchParameters.query||"";return""===t||e&&e.query===t?e:Oo(Oo({},e),{},{query:t})},getWidgetSearchParameters:function(e,t){t=t.uiState;return e.setQueryParameter("query",t.query||"")}}}}var Po=a({name:"search-box",connector:!0}),Ro=function(e,t){return t(e)};function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eo(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function xo(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Eo(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==Fo(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Fo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Fo(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Eo(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function _o(n){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h,c=(d(n,Io()),{});return function(i){var e=i||{},a=e.items,e=e.transformItems,o=void 0===e?function(e){return e}:e;if(Array.isArray(a))return{$$type:"ais.sortBy",init:function(e){var t=e.instantSearchInstance,e=this.getWidgetRenderState(e),r=e.currentRefinement;rt(a,function(e){return e.value===r});n(xo(xo({},e),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;n(xo(xo({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return t(),c.initialIndex?e.setIndex(c.initialIndex):e},getRenderState:function(e,t){return xo(xo({},e),{},{sortBy:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,r=e.helper,n=e.state,e=e.parent,e=(!c.initialIndex&&e&&(c.initialIndex=e.getIndexName()),c.setIndex||(c.setIndex=function(e){r.setIndex(e).search()}),!t||0===t.nbHits);return{currentRefinement:n.index,options:o(a,{results:t}),refine:c.setIndex,hasNoResults:e,canRefine:!e&&0<a.length,widgetParams:i}},getWidgetUiState:function(e,t){t=t.searchParameters.index;return xo(xo({},e),{},{sortBy:t!==c.initialIndex?t:void 0})},getWidgetSearchParameters:function(e,t){t=t.uiState;return e.setQueryParameter("index",t.sortBy||c.initialIndex||e.index)}};throw new Error(Io("The `items` option expects an array of objects."))}}var Io=a({name:"sort-by",connector:!0});function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function Do(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Ao(Object(i),!0).forEach(function(e){var t,r;t=n,r=i[e=e],(e=function(e){e=function(e,t){if("object"!==To(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==To(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===To(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):Ao(Object(i)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))})}return n}function No(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(n,ko()),function(r){return{$$type:"ais.stats",init:function(e){var t=e.instantSearchInstance;n(Do(Do({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;n(Do(Do({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(){e()},getRenderState:function(e,t){return Do(Do({},e),{},{stats:this.getWidgetRenderState(t)})},getWidgetRenderState:function(e){var t=e.results,e=e.state;return t?{hitsPerPage:t.hitsPerPage,nbHits:t.nbHits,nbSortedHits:t.nbSortedHits,areHitsSorted:void 0!==t.appliedRelevancyStrictness&&0<t.appliedRelevancyStrictness&&t.nbSortedHits!==t.nbHits,nbPages:t.nbPages,page:t.page,processingTimeMS:t.processingTimeMS,query:t.query,widgetParams:r}:{hitsPerPage:e.hitsPerPage,nbHits:0,nbSortedHits:void 0,areHitsSorted:!1,nbPages:0,page:e.page||0,processingTimeMS:-1,query:e.query||"",widgetParams:r}}}}}var ko=a({name:"stats",connector:!0});function Ho(e){return(Ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Co(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function k(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Co(Object(r),!0).forEach(function(e){Wo(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Co(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function Wo(e,t,r){return(t=function(e){e=function(e,t){if("object"!==Ho(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==Ho(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===Ho(e)?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lo(r){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:h;return d(r,Uo()),function(h){var d,p,m,g,y,e=h||{},v=e.attribute,t=e.on,e=e.off;if(v)return d=void 0!==e,p=Ht(void 0===t||t).map(tt),m=d?Ht(e).map(tt):void 0,y=function(t,e){var r=e.state,n=e.createURL;return function(){r=r.resetPage();var e=t?p:m,e=(e&&e.forEach(function(e){r=r.removeDisjunctiveFacetRefinement(v,e)}),t?m:p);return e&&e.forEach(function(e){r=r.addDisjunctiveFacetRefinement(v,e)}),n(r)}},{$$type:Qo,init:function(e){var t=e.instantSearchInstance;r(k(k({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!0)},render:function(e){var t=e.instantSearchInstance;r(k(k({},this.getWidgetRenderState(e)),{},{instantSearchInstance:t}),!1)},dispose:function(e){e=e.state;return n(),e.removeDisjunctiveFacet(v)},getRenderState:function(e,t){return k(k({},e),{},{toggleRefinement:k(k({},e.toggleRefinement),{},Wo({},v,this.getWidgetRenderState(t)))})},getWidgetRenderState:function(e){var r,t,n,i=e.state,a=e.helper,o=e.results,c=e.createURL,e=e.instantSearchInstance,s=o?p.every(function(e){return i.isDisjunctiveFacetRefined(v,e)}):p.every(function(e){return i.isDisjunctiveFacetRefined(v,e)}),u={isRefined:s,count:0},f={isRefined:d&&!s,count:0},l=(o&&(t=Ht(m||!1),r=o.getFacetValues(v,{})||[],l=p.map(function(t){return rt(r,function(e){return e.escapedValue===tt(String(t))})}).filter(function(e){return void 0!==e}),t=d?t.map(function(t){return rt(r,function(e){return e.escapedValue===tt(String(t))})}).filter(function(e){return void 0!==e}):[],u={isRefined:!!l.length&&l.every(function(e){return e.isRefined}),count:l.reduce(function(e,t){return e+t.count},0)||null},f={isRefined:!!t.length&&t.every(function(e){return e.isRefined}),count:t.reduce(function(e,t){return e+t.count},0)||r.reduce(function(e,t){return e+t.count},0)}),g=g||Mo({instantSearchInstance:e,attribute:v,on:p,helper:a}),s?f:u);return{value:{name:v,isRefined:s,count:o?l.count:null,onFacetValue:u,offFacetValue:f},createURL:y(s,{state:i,createURL:c}),sendEvent:g,canRefine:Boolean(o?l.count:null),refine:(n=a,function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{isRefined:!1}).isRefined;e?(p.forEach(function(e){return n.removeDisjunctiveFacetRefinement(v,e)}),d&&m.forEach(function(e){return n.addDisjunctiveFacetRefinement(v,e)})):(g("click",e),d&&m.forEach(function(e){return n.removeDisjunctiveFacetRefinement(v,e)}),p.forEach(function(e){return n.addDisjunctiveFacetRefinement(v,e)})),n.search()}),widgetParams:h}},getWidgetUiState:function(e,t){var r=t.searchParameters,t=p&&p.every(function(e){return r.isDisjunctiveFacetRefined(v,e)});return t?k(k({},e),{},{toggle:k(k({},e.toggle),{},Wo({},v,t))}):e},getWidgetSearchParameters:function(e,t){var t=t.uiState,r=e.clearRefinements(v).addDisjunctiveFacet(v);return Boolean(t.toggle&&t.toggle[v])?(p&&p.forEach(function(e){r=r.addDisjunctiveFacetRefinement(v,e)}),r):d?(m&&m.forEach(function(e){r=r.addDisjunctiveFacetRefinement(v,e)}),r):r.setQueryParameters({disjunctiveFacetsRefinements:k(k({},e.disjunctiveFacetsRefinements),{},Wo({},v,[]))})}};throw new Error(Uo("The `attribute` option is required."))}}var Uo=a({name:"toggle-refinement",connector:!0}),Qo="ais.toggleRefinement",Mo=function(e){var o=e.instantSearchInstance,c=e.helper,s=e.attribute,u=e.on;return function(){for(var e,t,r,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];1===i.length?o.sendEventToInsights(i[0]):(e=i[0],t=i[1],r=i[2],"click"!==e||void 0===u||t||o.sendEventToInsights({insightsMethod:"clickedFilters",widgetType:Qo,eventType:e,payload:{eventName:void 0===r?"Filter Applied":r,index:c.getIndex(),filters:u.map(function(e){return"".concat(s,":").concat(e)})},attribute:s}))}};e.Configure=function(e){return fr(e,{$$widgetType:"ais.configure"}),null},e.DynamicWidgets=function(e){var t=e.children,r=void 0===(n=e.fallbackComponent)?vr:n,n=gr(qt(e,yr),{$$widgetType:"ais.dynamicWidgets"}).attributesToRender,i=new Map;return s.Children.forEach(t,function(e){var t=function e(t){if(!br(t))return;if(t.props.attribute)return t.props.attribute;if(Array.isArray(t.props.attributes))return t.props.attributes[0];if(t.props.children)return Gt(1===s.Children.count(t.props.children),'<DynamicWidgets> only supports a single component in nested components. Make sure to not render multiple children in a parent component.\n\nExample of an unsupported scenario:\n\n```\n<DynamicWidgets>\n  <MyComponent>\n    <RefinementList attribute="brand" />\n    <Menu attribute="categories" />\n  </MyComponent>\n</DynamicWidgets>\n```\n'),e(s.Children.only(t.props.children));return}(e);Gt(void 0!==t,"<DynamicWidgets> only supports InstantSearch widgets with an `attribute` or `attributes` prop."),i.set(t,e)}),s.createElement(s.Fragment,null,n.map(function(e){return s.createElement(y.Fragment,{key:e},i.get(e)||s.createElement(r,{attribute:e}))}))},e.Index=function(e){var t,r,n,i,a,o=e.children,c=(e=e=qt(e,Cr),t=ir(),r=null==(r=Hr())?void 0:r.initialResults,n=er(),i=ar(e),c=(e=y.useMemo(function(){return Ar(i)},[i])).getHelper(),a=Nr(),or(function(){a()},[c,a]),cr({widget:e,parentIndex:n,props:i,shouldSsr:Boolean(t||r)}),e);return null===c.getHelper()?null:s.createElement(Kt.Provider,{value:c},o)},e.InstantSearch=function(e){var t=e.children;return(e=oi(qt(e,si))).started?s.createElement(tr.Provider,{value:e},s.createElement(Kt.Provider,{value:e.mainIndex},t)):null},e.InstantSearchSSRProvider=function(e){var t=e.children,e=qt(e,ui),r=s.useRef(null);return 0===Object.keys(e).length?s.createElement(s.Fragment,null,t):s.createElement(kr.Provider,{value:b(b({},e),{},{ssrSearchRef:r})},t)},e.InstantSearchServerContext=nr,e.useBreadcrumb=function(e,t){return p(gi,e,t)},e.useClearRefinements=function(e,t){return p(ji,e,t)},e.useConfigure=fr,e.useConnector=p,e.useCurrentRefinements=function(e,t){return p(Ii,e,t)},e.useDynamicWidgets=gr,e.useHierarchicalMenu=function(e,t){return p($i,e,t)},e.useHits=function(e,t){return p(Xi,e,t)},e.useHitsPerPage=function(e,t){return p(ra,e,t)},e.useInfiniteHits=function(e,t){return p(da,e,t)},e.useInstantSearch=function(){var t,r,n,e,i,a,o,c=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).catchError,s=rr();t=rr(),r=er().getIndexId(),h=(u=Vt(y.useState(function(){return t.getUiState()}),2))[0],n=u[1],u=h[r],e=y.useCallback(function(e){t.setUiState(e)},[t]),f=y.useCallback(function(t){e(function(e){return b(b({},e),{},Bt({},r,"function"==typeof t?t(e[r]):t))})},[e,r]),y.useEffect(function(){function e(){n(t.getUiState())}return t.addListener("render",e),function(){t.removeListener("render",e)}},[t,r]);var u=(h={uiState:h,setUiState:e,indexUiState:u,setIndexUiState:f}).uiState,f=h.setUiState,l=h.indexUiState,h=h.setIndexUiState;i=rr(),a=er(),p=Vt(y.useState(function(){return Zt(a)}),2),d=p[0],o=p[1],y.useEffect(function(){function e(){var e=a.getResults();null!==e&&o({results:e,scopedResults:a.getScopedResults()})}return i.addListener("render",e),function(){i.removeListener("render",e)}},[i,a]);var d=(p=d).results,p=p.scopedResults,m=y.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s.use.apply(s,t),function(){s.unuse.apply(s,t)}},[s]),g=y.useCallback(function(){s.refresh()},[s]);return or(function(){var e;return c?(s.addListener("error",e=function(){}),function(){return s.removeListener("error",e)}):function(){}},[s,c]),{results:d,scopedResults:p,uiState:u,setUiState:f,indexUiState:l,setIndexUiState:h,use:m,refresh:g,status:s.status,error:s.error}},e.useMenu=function(e,t){return p(wa,e,t)},e.useNumericMenu=function(e,t){return p(Ia,e,t)},e.usePagination=function(e,t){return p(qa,e,t)},e.usePoweredBy=function(){var e=kt(function(e){return(null==(e=e.window.location)?void 0:e.hostname)||""},{fallback:function(){return""}});return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content=".concat(e,"&utm_campaign=poweredby")}},e.useQueryRules=function(e,t){return p(eo,e,t)},e.useRange=function(e,t){return p(uo,e,t)},e.useRefinementList=function(e,t){return p(yo,e,t)},e.useSearchBox=function(e,t){return p(jo,e,t)},e.useSortBy=function(e,t){return p(_o,e,t)},e.useStats=function(e,t){return p(No,e,t)},e.useToggleRefinement=function(e,t){return p(Lo,e,t)},e.version=H,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ReactInstantSearchHooks.min.js.map
